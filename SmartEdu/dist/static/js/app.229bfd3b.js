(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={app:0},i=[];function o(t){return r.p+"static/js/"+({}[t]||t)+"."+{"chunk-2d216214":"fe4bb11d","chunk-3d409e66":"0c3397a3"}[t]+".js"}function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise((function(e,s){n=a[t]=[e,s]}));e.push(n[2]=s);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=o(t);var c=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(u);var n=a[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",c.name="ChunkLoadError",c.type=s,c.request=i,n[1](c)}a[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"06f6":function(t,e,n){t.exports=n.p+"static/img/人.5eccbb97.svg"},"0ce6":function(t,e,n){},1693:function(t,e,n){},"1a60":function(t,e,n){},"29c0":function(t,e,n){"use strict";n("0ce6")},"34fb":function(t,e,n){"use strict";n("decd")},"353e":function(t,e,n){},"4ff3":function(t,e,n){t.exports=n.p+"static/img/库存.d204886a.svg"},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"center"},[e("h1",[t._v("Welcome to SmartEdu")]),e("div",{staticClass:"logon"},[e("div",{class:t.overlaylong},[0==t.disfiex?e("div",{staticClass:"overlaylong-Signin"},[e("h2",{staticClass:"overlaylongH2"},[t._v("Sign in")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.SignInUser.user,expression:"SignInUser.user"}],attrs:{type:"text",placeholder:"user"},domProps:{value:t.SignInUser.user},on:{input:function(e){e.target.composing||t.$set(t.SignInUser,"user",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.SignInUser.password,expression:"SignInUser.password"}],attrs:{type:"text",placeholder:"password"},domProps:{value:t.SignInUser.password},on:{input:function(e){e.target.composing||t.$set(t.SignInUser,"password",e.target.value)}}}),e("h3",[t._v("Forgot your password?")]),e("button",{staticClass:"inupbutton",attrs:{type:"submit"},on:{click:function(e){return t.userSignin()}}},[t._v("Sign in")])]):t._e(),1==t.disfiex?e("div",{staticClass:"overlaylong-Signup"},[e("h2",{staticClass:"overlaylongH2"},[t._v("Registered Account")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.SignUpUser.user,expression:"SignUpUser.user"}],attrs:{type:"text",placeholder:"user"},domProps:{value:t.SignUpUser.user},on:{input:function(e){e.target.composing||t.$set(t.SignUpUser,"user",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.SignUpUser.password,expression:"SignUpUser.password"}],attrs:{type:"text",placeholder:"password"},domProps:{value:t.SignUpUser.password},on:{input:function(e){e.target.composing||t.$set(t.SignUpUser,"password",e.target.value)}}}),e("button",{staticClass:"inupbutton",attrs:{type:"submit"},on:{click:function(e){return t.userSignup()}}},[t._v("Sign up")])]):t._e()]),e("div",{class:t.overlaytitle},[0==t.disfiex?e("div",{staticClass:"overlaytitle-Signin"},[e("h2",{staticClass:"overlaytitleH2"},[t._v("Hello,Friend!")]),e("p",{staticClass:"overlaytitleP"},[t._v("\n\t\t\t\t\tEnter your personal details and start journey with us\n\t\t\t\t")]),e("div",{staticClass:"buttongohs",on:{click:t.Signin}},[t._v("Sign up")])]):t._e(),1==t.disfiex?e("div",{staticClass:"overlaytitle-Signup"},[e("h2",{staticClass:"overlaytitleH2"},[t._v("Welcome Back!")]),e("p",{staticClass:"overlaytitleP"},[t._v("To keep connected with us please login with your personal info")]),e("div",{staticClass:"buttongohs",on:{click:t.Signup}},[t._v("Sign in")])]):t._e()])])])},r=[],l=(n("4917"),n("cee4")),c=l["a"].create({withCredentials:!0});c.interceptors.request.use((function(t){t.headers["X-Requested-With"]="XMLHttpRequest";var e=/.*csrftoken=([^;.]*).*$/;return t.headers["X-CSRFToken"]=null===document.cookie.match(e)?null:document.cookie.match(e)[1],t})),c.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),s["default"].prototype.axios=c;var u=c,d=u,h=function(){return d.get("http://8.138.159.180/api/getLessondatas/")},m=function(t){return d.post("http://8.138.159.180/api/getLessondatas/",{username:t})},p=function(t){return d.post("http://8.138.159.180/api/getLessondata/",{id:t})},f=function(t){return d.post("http://8.138.159.180/api/delectlessondata/",{id:t})},g=function(t,e){return d.post("http://8.138.159.180/api/register/",{username:t,password:e})},b=function(t,e){return d.post("http://8.138.159.180/api/login/",{username:t,password:e})},v=function(t,e,n,s){return d.post("http://8.138.159.180/api/insertlesson/",{UserName:t,LessonName:e,Navigation:n,Lessoncontent:s})},y=function(t,e,n,s){return d.post("http://8.138.159.180/api/resetLessondata/",{id:t,LessonName:e,Navigation:n,Lessoncontent:s})},x=function(t,e,n,s){return d.post("http://8.138.159.180/api/insertshare/",{Author:t,Sharer:e,Privilege:n,Lessonid:s})},S=function(t,e){return d.get("/api/getText",{params:{apikey:t,padID:e}})},_=function(t,e,n){return d.get("/api/setText",{params:{apikey:t,padID:e,text:n}})},w=function(t,e){return d.get("/api/createPad",{params:{apikey:t,padID:e}})},k=function(t,e,n,s,a,i){return d.post("http://8.138.159.180/api/setorder/",{UserName:t,Subject:e,Order1:n,Order2:s,Order3:a,Order4:i})},C=function(t){return d.get("http://8.138.159.180/api/setorder/",{params:{UserName:t}})},T=function(t,e){return d.post("http://8.138.159.180/api/setorderc/",{UserName:t,OrderName:e})},I=function(t){return d.get("http://8.138.159.180/api/setorderc/",{params:{UserName:t}})},O=function(t,e,n,s,a,i){return d.post("http://8.138.159.180/api/setstudy/",{Study:t,UserName:e,Subject:n,TotalTime:s,TextSum:a,LessonContent:i})},N=function(t,e,n,s,a,i,o,r){return d.post("http://8.138.159.180/api/sethistoryc/",{Send_username:t,Receive_username:e,Content:n,Sendtime:s,StartTime:a,EndTime:i,Rate:o,AcceptOrRejectTime:r})},E=function(t,e,n,s,a,i,o,r,l){return d.post("http://8.138.159.180/api/sethistoryaia/",{Send_username:t,Receive_username:e,SelectText:n,Content:s,Sendtime:a,StartTime:i,EndTime:o,Rate:r,AcceptOrRejectTime:l})},P=function(t){return d.get("http://8.138.159.180/api/getsubjectnumber/",{params:{Subject:t}})},M={data:function(){return{overlaylong:"overlaylong",overlaytitle:"overlaytitle",disfiex:0,SignUpUser:{user:"",password:""},SignInUser:{user:"",password:""}}},methods:{Signin:function(){var t=this;this.overlaylong="overlaylongleft",this.overlaytitle="overlaytitleright",setTimeout((function(){t.disfiex=1}),200)},Signup:function(){var t=this;this.overlaylong="overlaylongright",this.overlaytitle="overlaytitleleft",setTimeout((function(){t.disfiex=0}),200)},userSignup:function(){var t=this;g(this.SignUpUser.user,this.SignUpUser.password).then((function(e){1==e.data.status?t.$message({message:"注册成功",type:"success"}):t.$message.error("注册失败！该名字已存在")})).catch((function(e){t.$message.error("注册失败！！")}))},userSignin:function(){var t=this;b(this.SignInUser.user,this.SignInUser.password).then((function(e){200==e.status?(t.$message({message:"登入成功！",type:"success"}),sessionStorage.setItem("is_login","true"),sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("user_id",e.data.user_id),sessionStorage.setItem("user_name",e.data.user_name),console.log(e.data.user_name),t.$router.push("/studySum")):t.$message.error("登入失败！")})).catch((function(e){t.$message.error("登入失败！!")}))}}},j=M,B=(n("9523"),n("2877")),A=Object(B["a"])(j,o,r,!1,null,"3e177cee",null),V=A.exports,L=function(){var t=this,e=t._self._c;return e("el-container",{},[e("el-header",[e("el-button",{attrs:{type:"primary",icon:"el-icon-folder-add"},on:{click:function(e){return t.newspace()}}},[t._v("新建")])],1),e("el-main",{staticStyle:{"background-color":"rgb(255, 247, 247)"}},[e("h4",[t._v("历史教案")]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,align:"center"}},[e("el-table-column",{attrs:{prop:"LessonName",label:"教案名称",width:"380"}}),e("el-table-column",{attrs:{prop:"UserName",label:"作者",width:"380"}}),e("el-table-column",{attrs:{prop:"time",label:"操作",width:"380"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{type:"text",size:"big"},on:{click:function(e){return t.handleSeleUserId(n.row)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"text",size:"big"},on:{click:function(e){return t.delspace(n.row)}}},[t._v("删除")])]}}])})],1)],1)],1)},$=[],D={data:function(){return{tableData:[]}},created:function(){this.fetchUserData()},methods:{newspace:function(){this.$router.push({name:"Inputinfo",params:{lessonName:"lessonInfo"}})},delspace:function(t){var e=this;f(t.id).then((function(t){e.fetchUserData()})).catch((function(t){console.error("Error:",t)}))},fetchUserData:function(){var t=this,e=sessionStorage.getItem("user_name");console.log(e),m(e).then((function(e){t.tableData=e.data})).catch((function(t){console.error("Error:",t)}))},handleSeleUserId:function(t){this.$router.push({name:"lessontemplate",params:{id:t.id}})}}},R=D,z=(n("7b4b"),Object(B["a"])(R,L,$,!1,null,null,null)),F=z.exports,U={name:"app",components:{SignIn:V,Workspace:F}},Y=U,H=(n("6cce"),Object(B["a"])(Y,a,i,!1,null,null,null)),G=H.exports,W=n("5c96"),J=n.n(W),K=(n("0fae"),n("8c4f")),q=function(){var t=this,e=t._self._c;return e("el-container",{staticStyle:{height:"700px",border:"1px solid #eee"}},[e("el-header",{staticStyle:{"text-align":"right","font-size":"18px"}},[e("el-button",{attrs:{icon:"el-icon-coin"},on:{click:function(e){return t.saveedu()}}},[t._v("保存")]),e("el-button",{attrs:{icon:"el-icon-user",circle:""}})],1),e("el-container",[e("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px",id:"Navigation"}},[e("el-row",{staticClass:"tac"},[e("el-col",{attrs:{span:24}},[e("h5",[t._v("导航栏")]),e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#fff6f6","text-color":"#000000"}},[e("el-menu-item",{attrs:{index:"1"}},[e("i",{staticClass:"el-icon-menu"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("教材分析")])]),e("el-menu-item",{attrs:{index:"2"}},[e("i",{staticClass:"el-icon-menu"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("学情分析")])]),e("el-menu-item",{attrs:{index:"3"}},[e("i",{staticClass:"el-icon-menu"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("教学目标")])]),e("el-menu-item",{attrs:{index:"4"}},[e("i",{staticClass:"el-icon-menu"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("教学重点")])]),e("el-menu-item",{attrs:{index:"5"}},[e("i",{staticClass:"el-icon-menu"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("教学过程")])]),e("el-menu-item",{attrs:{index:"6"}},[e("i",{staticClass:"el-icon-menu"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("学习评价")])])],1)],1)],1)],1),e("el-main",{staticStyle:{"background-color":"rgb(255, 255, 255)"},attrs:{id:"Lessoncontent"}},[e("el-card",{staticClass:"box-card",attrs:{id:"LessonName"}},[e("div",{attrs:{contenteditable:"true"}},[t._v("教案名称")])]),e("el-card",{staticClass:"box-card",attrs:{id:"Lessoncontent"}})],1)],1)],1)},X=[],Q={data:function(){return{apiKey:"850315921b51572d1b15eab03e5ff5fae31cc336b5d2098df1bdc609648e9e16"}},created:function(){this.createpads()},methods:{saveedu:function(){var t=this;sessionStorage;var e=sessionStorage.getItem("user_name"),n=document.getElementById("LessonName").innerText,s=document.getElementById("Navigation").outerHTML,a=document.getElementById("Lessoncontent").outerHTML;v(e,n,s,a).then((function(e){1==e.data.status?t.$message({message:"保存成功",type:"success"}):t.$message.error("保存失败！")})).catch((function(e){t.$message.error("保存失败！！")}))},lessonshare:function(){this.$message({message:"分享成功",type:"success"})},getpad:function(t){S(this.apiKey,t).then((function(t){console.log(t.data)})).catch((function(t){console.error("Error:",t)}))},setpad:function(t){var e="Hello, Etherpad! new edit";_(this.apiKey,t,e).then((function(t){console.log(t.data)})).catch((function(t){console.error("Error:",t)}))},createpad:function(t){w(this.apiKey,t).then((function(t){console.log(t.data)})).catch((function(t){console.error("Error:",t)}))},createpads:function(){var t=this;h().then((function(e){e.data;var n=sessionStorage.getItem("user_name")+20;console.log(n),w(t.apiKey,n).then((function(e){_(t.apiKey,n,"");var s=document.getElementById("Lessoncontent"),a="http://127.0.0.1:9001/p/"+n+"?showControls=true&showChat=true&showLineNumbers=true&useMonospaceFont=false";console.log(a);var i=document.createElement("iframe");i.src=a,i.width="100%",i.height="800",s.appendChild(i)})).catch((function(t){console.error("Error:",t)}))})).catch((function(t){console.error("Error:",t)}))}}},Z=Q,tt=(n("ac88"),Object(B["a"])(Z,q,X,!1,null,null,null)),et=tt.exports,nt=(n("7f7f"),function(){var t=this,e=t._self._c;return e("div",[e("el-header",{staticStyle:{"text-align":"right"}},[e("el-button",{attrs:{icon:"el-icon-share"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("分享")]),e("el-dialog",{attrs:{title:"教案分享",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{attrs:{model:t.form}},[e("el-form-item",{attrs:{label:"添加用户ID","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"用户权限","label-width":t.formLabelWidth}},[e("el-select",{attrs:{placeholder:"请选择用户权限"},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},[e("el-option",{attrs:{label:"查看",value:"view"}}),e("el-option",{attrs:{label:"评论",value:"assess"}}),e("el-option",{attrs:{label:"编辑",value:"edit"}})],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1),e("el-button",{attrs:{icon:"el-icon-download"},on:{click:function(e){t.dialogdownload=!0}}},[t._v("下载")]),e("el-dialog",{attrs:{title:"教案下载",visible:t.dialogdownload},on:{"update:visible":function(e){t.dialogdownload=e}}},[e("el-button",{attrs:{icon:"el-icon-download"},on:{click:t.convertToPdf}},[t._v("PDF下载")]),e("el-button",{attrs:{icon:"el-icon-download"},on:{click:t.convertToword}},[t._v("WORD下载")]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogdownload=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogdownload=!1}}},[t._v("确 定")])],1)],1),e("el-button",{attrs:{icon:"el-icon-coin"},on:{click:function(e){return t.saveedu()}}},[t._v("保存")]),e("el-button",{attrs:{icon:"el-icon-user",circle:""}})],1),e("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-between"}},[e("el-col",{staticClass:"col01",attrs:{sm:1,md:3,lg:3,xl:3}},[e("el-button",{on:{click:t.generateTextStream}},[t._v("测试ai生成教案")])],1),e("el-col",{attrs:{sm:22,md:20,lg:20,xl:20}},[e("div",{ref:"box",staticClass:"box"},[e("div",{staticClass:"left"},[e("div",[e("Toolbar",{attrs:{editor:t.editor,defaultConfig:t.toolbarConfig}}),e("Editor",{directives:[{name:"katex",rawName:"v-katex:auto",arg:"auto"}],style:t.editorChange,attrs:{id:"content",defaultConfig:t.editorConfig},on:{onChange:t.onChange,onCreated:t.onCreated},model:{value:t.html,callback:function(e){t.html=e},expression:"html"}}),e("div",{staticStyle:{width:"180px",position:"absolute",left:"0",top:"30%"}},[e("ul",{attrs:{id:"header-container"}})])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.AIVisual||t.PromptStoreVisual,expression:"AIVisual||PromptStoreVisual"}],staticClass:"resize",attrs:{title:"收缩侧边栏"}},[t._v("\n\t\t\t\t\t\t⋮\n\t\t\t\t\t")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.AIVisual,expression:"AIVisual"}],staticClass:"mid"},[e("div",[e("el-container",[e("el-header",[e("el-button",{staticClass:"title",attrs:{type:"primary",round:"",size:"small"}},[t._v("教案AI助手")])],1),e("el-main",[e("el-scrollbar",{attrs:{"wrap-class":"message-list","wrap-style":"height:30rem;"}},t._l(t.messages,(function(n,s){return e("div",{key:s,class:{"message-item-AI":"AI"==n.sender,"animate__animated animate__fadeInUp":!0,"message-item-MY":"MY"==n.sender}},["AI"==n.sender?e("div",{staticStyle:{float:"left","margin-right":"0.4rem"}},[e("el-avatar",{attrs:{size:40,src:t.img_AI}})],1):t._e(),e("div",["MY"==n.sender?e("p",[t._v(" "+t._s(n.content))]):t._e(),"AI"==n.sender?e("div",{staticStyle:{overflow:"hidden","padding-top":"3px"}},[""!=n.content[0]?e("div",{staticClass:"btn_p_nob"},[t._v("原来的文本:"),e("br"),e("p",{staticClass:"btn_p",on:{click:function(e){return t.selectInsert(n.content[0])}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(n.content[0])+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),e("br"),t._v("生成的文本:\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),e("div",{class:{btn_p:""!=n.content[0]}},[e("p",{domProps:{innerHTML:t._s(n.content[1])},on:{click:function(e){return t.selectInsert(n.content[1])}}}),""!=n.content[0]?e("i",{staticClass:"el-icon-refresh",on:{click:t.updateMessage}}):t._e()])]):t._e()]),"MY"==n.sender?e("div",{staticStyle:{float:"right","margin-left":"0.3125rem"}},[e("el-avatar",{attrs:{size:40,src:t.img_MY}})],1):t._e()])})),0)],1),e("el-footer",[e("div",{staticClass:"footer-left"},[e("el-input",{attrs:{placeholder:t.tip,rows:4,type:"textarea",id:"voiceTxt"},model:{value:t.inputMessage,callback:function(e){t.inputMessage=e},expression:"inputMessage"}})],1),e("div",{staticClass:"footer-right"},[e("el-row",[e("el-popover",{attrs:{placement:"right",trigger:"hover"}},[e("el-button",{staticStyle:{border:"0px"},attrs:{slot:"reference",size:"small"},slot:"reference"})],1)],1),e("el-row",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"语音",placement:"right"}},[e("el-button",{staticClass:"el-icon-microphone",attrs:{circle:"",size:"small"},on:{click:t.startVoice}})],1)],1),e("el-row",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"发送",placement:"right"}},[e("el-button",{staticClass:"el-icon-s-promotion",attrs:{circle:"",size:"small"},on:{click:t.sendMessage}})],1)],1)],1)])],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.PromptStoreVisual,expression:"PromptStoreVisual"}],staticClass:"mid1"},[e("el-container",[e("el-header",[e("el-button",{staticClass:"title",attrs:{type:"primary",round:"",size:"small"}},[t._v("教案提示词模板")])],1),e("el-main",[e("el-select",{attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":t.remoteMethod,loading:t.loading},model:{value:t.value9,callback:function(e){t.value9=e},expression:"value9"}}),e("el-scrollbar",{attrs:{"wrap-class":"message-list","wrap-style":"height:30rem;margin-top:20px;padding-left:20px;"}},t._l(t.options4,(function(n){return e("div",{key:n.value,staticStyle:{"margin-top":"10px"}},[e("p",{staticClass:"prom"},[t._v(" "+t._s(n.value))])])})),0)],1),e("el-footer")],1)],1)])]),e("el-col",{staticClass:"bg-right",attrs:{sm:1,md:1,lg:1,xl:1}},[e("el-row",[e("div",{staticClass:"buttonAI",on:{click:t.clickBtnAI}},[e("el-avatar",{attrs:{size:40,src:t.img_AI}})],1),e("div",{staticClass:"buttonAI",on:{click:t.clickBtnStore}},[e("el-avatar",{attrs:{size:40,src:t.img_Store}})],1)])],1)],1)],1)}),st=[],at=(n("2397"),n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("ac6a"),n("456d"),n("57e7"),n("d25f"),n("6762"),n("2fdb"),n("a481"),n("28a5"),n("96cf"),n("3b8d")),it=(n("6b54"),n("87b3"),n("cf6a"),n("4f37"),n("d225")),ot=n("b0b4"),rt=n("308d"),lt=n("6bb5"),ct=n("4e2b"),ut=(n("6d67"),n("bd86")),dt=n("b3c7"),ht=n.n(dt),mt=n("06f6"),pt=n.n(mt),ft=n("4ff3"),gt=n.n(ft),bt=n("4e15"),vt=n("cb23"),yt=function(){function t(){Object(it["a"])(this,t),this.title="AI编辑",this.tag="button"}return Object(ot["a"])(t,[{key:"getValue",value:function(t){return t.getSelectionText()}},{key:"isActive",value:function(t){return!1}},{key:"isDisabled",value:function(t){return!1}},{key:"exec",value:function(t,e){this.isDisabled(t)||t.insertText(e)}}])}(),xt=n("2f62");function St(t,e,n){return e=Object(lt["a"])(e),Object(rt["a"])(t,_t()?Reflect.construct(e,n||[],Object(lt["a"])(t).constructor):e.apply(t,n))}function _t(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_t=function(){return!!t})()}function wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(n),!0).forEach((function(e){Object(ut["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ct={name:"MyEditor",components:{Editor:bt["a"],Toolbar:bt["b"]},computed:kt({},Object(xt["a"])({LesInfo:function(t){return t.Lesson.LesInfo},Les:function(t){return t.Lesson.Les}})),data:function(){return{headerContainer:"",outputList:[],input:"",output:"",output1:"",outcome:"",come:"",AIVisual:!1,VoiceClick:!1,PromptStoreVisual:!1,voice:"",selectStr:"",inputMessage:"",tip:"请输入内容",tipAdress:{},img_AI:ht.a,img_MY:pt.a,img_Store:gt.a,messages:[{sender:"AI",content:["","您好呀，我是教案AI助手。您想生成的教案的基本信息为：<br>一年级 小学 语文 《识字-金木水火土》 "]},{sender:"MY",content:"你好呀"}],editor:null,html:"<h1>标题</h1><h2>标题A</h2><p>文本</p><p>文本</p><p>文本</p><h3>标题A1</h3><p>文本</p><p>文本</p><p>文本</p><h3>标题A2</h3><p>文本</p><p>文本</p><p>文本</p><h2>标题B</h2><p>文本</p><p>文本</p><p>文本</p><h3>标题B1</h3><p>文本</p><p>文本</p><p>文本</p><h3>标题B2</h3><p>文本</p><p>文本</p><p>文本</p> ",toolbarConfig:{excludeKeys:["blockquote","group-more-style","insertLink","group-video","fullScreen"]},editorConfig:{placeholder:"这里显示教案内容...",scroll:!1,hoverbarKeys:{text:{menuKeys:["MyButtonMenu","|","headerSelect","bold","underline","italic","|","fontSize","fontFamily"]}},MENU_CONF:{}},options4:[],value9:[],list:[],loading:!1,states:[" 这一部分是否有遗漏或不准确的地方？"," 是否存在逻辑上的跳跃或不一致之处？"," 我的班级学习风格为[填入学习风格]，考虑到我的班级学生的班级学习风格，你建议如何调整这个教案的学习目标？"," 哪些策略可以帮助我更有效地教授难懂的概念？"," 哪些类型的作业任务可以促进学生的创造力？"," 我的班级有[填入班级人数]，考虑到我的班级大小，你有什么建议来管理小组工作？"," 哪些案例研究最适合我的教案主题？"," 哪些问题和讨论话题可以作为课堂辩论的良好起点？"," 哪些策略可以帮助提高教案中的协作学习成分？"," 这一部分是否包含了足够的案例来帮助学生理解复杂概念？","哪些案例研究或现实世界例子可以加强教案内容？"," 能否列举个非常容易理解的例子"," 重新生成教学内容分析，使得教学内容分析变得更加[填入词语]"," 这一部分的教案内容我觉得需要更多的视觉辅助或实例说明来说明，你能帮助我吗","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],dialogFormVisible:!1,dialogdownload:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},editorChange:{height:"85vh",overflowY:"auto"},pdfOrWord:0,teachInfo:[],teachStru:[],prompt:"",lessonName:""}},watch:{output:function(){this.html="<p>".concat(this.output,"</p>")},input:function(){this.inputMessage="".concat(this.input)},outcome:function(){this.come=this.outcome}},mounted:function(){var t=this;this.getLessonInfo(),this.lessonGemStream(),this.headerContainer=document.getElementById("header-container"),this.headerContainer.addEventListener("mousedown",(function(e){if("LI"===e.target.tagName){e.preventDefault();var n=e.target.id;console.log(n),t.editor.scrollToElem(n)}})),this.list=this.states.map((function(t){return{value:t,label:t}})),this.dragControllerDiv();document.querySelector("#voiceTxt");var e=this,n=function(t){function n(){return Object(it["a"])(this,n),St(this,n,arguments)}return Object(ct["a"])(n,t),Object(ot["a"])(n,[{key:"exec",value:function(t,n){e.clickBtnAI()}}])}(yt),s={key:"MyButtonMenu",factory:function(){return new n}},a={menus:[s]};vt["a"].registerModule(a)},created:function(){},methods:{addStyle:function(){},insertResume:function(){},dragControllerDiv:function(){var t=document.getElementsByClassName("resize"),e=document.getElementsByClassName("left"),n=document.getElementsByClassName("mid"),s=document.getElementsByClassName("box"),a=document.getElementsByClassName("col01");t[0].onmousedown=function(i){t[0].style.background="#818181";var o=i.clientX-a[0].offsetWidth;return t[0].left=t[0].offsetLeft,document.onmousemove=function(i){var r=i.clientX-a[0].offsetWidth,l=t[0].left+(r-o)-a[0].offsetWidth,c=s[0].clientWidth-t[0].offsetWidth;l<32&&(l=32),l>c-150&&(l=c-150),t[0].style.left=l,e[0].style.width=l+"px",n[0].style.width=s[0].clientWidth-l-10+"px"},document.onmouseup=function(e){t[0].style.background="#d6d6d6",document.onmousemove=null,document.onmouseup=null,t[0].releasePointerCapture&&t[0].releasePointerCapture(1)},t[0].setPointerCapture&&t[0].setPointerCapture(1),!1}},sendMessage:function(){this.outcome="";var t=document.querySelector("#voiceTxt");console.log("send:"+t.value),this.inputMessage=t.value,this.inputMessage.trim()&&(this.messages.push({sender:"MY",content:this.inputMessage}),this.generateTextStreamToParagraph())},updateMessage:function(){this.outcome="",this.generateTextStreamToParagraph()},clickBtnAI:function(){document.getElementsByClassName("resize");var t=document.getElementsByClassName("left"),e=document.getElementsByClassName("mid");this.AIVisual?(this.AIVisual=!1,e[0].style.width="0%",t[0].style.width="100%"):(this.AIVisual=!0,t[0].style.width="68%",e[0].style.width="calc(32% - 10px)")},clickBtnStore:function(){document.getElementsByClassName("resize");var t=document.getElementsByClassName("left"),e=document.getElementsByClassName("mid1");this.PromptStoreVisual?(this.PromptStoreVisual=!1,e[0].style.width="0%",t[0].style.width="100%"):(this.PromptStoreVisual=!0,t[0].style.width="68%",e[0].style.width="calc(32% - 10px)")},startVoice:function(){this.VoiceClick?(console.log("正在暂停倾听你的声音中..."),this.voice.stop(),this.VoiceClick=!1):(console.log("正在听取你的声音中..."),this.voice.start(),this.VoiceClick=!0)},onCreated:function(t){this.editor=Object.seal(t)},insertNewNode:function(t){var e={type:"header3",children:[{text:"".concat(t)}]};this.editor.insertNode(e)},selectInsert:function(t){this.editor.select(this.tipAdress),this.editor.dangerouslyInsertHtml(t)},handleEnter:function(){},onChange:function(t){null!=t.selection&&(this.tipAdress=t.selection),t.select(this.tipAdress),this.tip='更改文本" '+t.getSelectionText().toString().substring(0,60)+'"',this.selectStr=t.getSelectionText();var e=document.getElementById("header-container"),n=t.getElemsByTypePrefix("header");e.innerHTML=n.map((function(t){var e=vt["c"].string(t),n=t.id,s=t.type;return'<li id="'.concat(n,'" type="').concat(s,'" style=\'padding: 10px 0px;color: #33081b;cursor: pointer;border: #bfbfbf 1px solid;border-radius: 0.3125rem;font-size:13px;\'><i class="el-icon-menu" style="margin-right:5px;"></i>').concat(e,"</li>")})).join("")},getEditorText:function(){this.editor},printEditorHtml:function(){this.editor},getLessonInfo:function(){this.teachInfo=this.$route.params.teachInfo,this.lessonName=this.teachInfo[this.teachInfo.length-1],this.teachStru=this.$route.params.teachStru,this.output="<h1>".concat(this.lessonName,"</h1><br>")},lessonGemStream:function(){this.prompt="你是一个资深且专业的教学设计机器人。请你根据我提供的教学信息，设计一份优质的教案。\n\t\t\t\t课程信息：".concat(this.teachInfo,"\n\t\t\t    授课模式：练习课\n\t\t\t    教学结构：").concat(this.teachStru,"\n\t\t\t    教学模式：探究式教学\n\t\t\t\t输出格式：html");var t=this.teachStru.length;this.main(t)},main:function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e)){t.next=7;break}return t.next=4,this.generateTextStream(n);case 4:n++,t.next=1;break;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),generateTextStream:function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(e){var n,s,a,i,o,r,l,c,u,d,h,m,p,f,g,b,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="你是一个资深且专业的教学设计机器人。请你根据我提供的教学信息，设计一份优质教案。\n\t\t\t\t课程信息：".concat(this.teachInfo,"\n\t\t\t\t授课模式：练习课\n\t\t\t\t教学结构：").concat(this.teachStru,"\n\t\t\t\t教学模式：探究式教学\n\t\t\t\t"),s="请你运用你的专业知识，输出 ".concat(this.teachStru[e],",输出格式为：\n\t\t\t\t<h3>").concat(this.teachStru[e],"</h3><p>").concat(this.teachStru[e],"的内容</p>"),a="cfcea42fdab447bd8907728beaa56417","",i="",o="https://team3-at-2.openai.azure.com/openai/deployments/GPT35/chat/completions?api-version=2023-03-15-preview",t.next=8,fetch(o,{method:"POST",body:JSON.stringify({max_tokens:3e3,n:1,temperature:.5,frequency_penalty:0,presence_penalty:0,top_p:.95,stop:null,stream:!0,messages:[{role:"system",content:n},{role:"user",content:s}]}),headers:{"api-key":a,"Content-Type":"application/json"}});case 8:r=t.sent,l=new TextDecoder("utf-8"),c=r.body.getReader();case 11:return t.next=14,c.read();case 14:if(u=t.sent,d=u.done,h=u.value,!d){t.next=19;break}return t.abrupt("break",44);case 19:m=l.decode(h),p=m.split("data:"),f=p.slice(1),e=0,g=f.length;case 23:if(!(e<g)){t.next=39;break}if(console.log(f[e]),f[e]=f[e].replace("\n\n",""),f[e].includes("[DONE]")){t.next=36;break}if(!f[e]){t.next=36;break}if(b=JSON.parse(f[e]),!b["choices"][0]["delta"]){t.next=36;break}if("<ERR>"!==m){t.next=35;break}return"Error",t.abrupt("break",39);case 35:b["choices"][0]["delta"]["content"]&&(i+=b["choices"][0]["delta"]["content"]);case 36:e++,t.next=23;break;case 39:this.outputList.push(i),this.output+=i.replace("<br>",""),i="",t.next=11;break;case 44:return v=e,t.abrupt("return",v);case 46:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),generateTextStreamToParagraph:function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(){var e,n,s,a,i,o,r,l,c,u,d,h,m,p,f,g,b,v,y;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.outcome="",e=this.selectStr,n="你是一个专业的教学设计机器人。我的教案主题是 识字-金木水火土 一年级 小学 语文 。",s="",s=""==e?"".concat(this.inputMessage,"."):"我的教案主题是 识字-金木水火土 一年级 小学 语文 。我选中的一段话是".concat(e,".修改要求是").concat(this.inputMessage,".请你根据我提出的需求和教案主题修改我选中的一段话，输出修改的内容即可，无需其他话语。让我们一步一步思考，确保得出正确的结论"),a="cfcea42fdab447bd8907728beaa56417","",i="",o="https://team3-at-2.openai.azure.com/openai/deployments/GPT35/chat/completions?api-version=2023-03-15-preview",t.next=11,fetch(o,{method:"POST",body:JSON.stringify({max_tokens:3e3,n:1,temperature:.5,frequency_penalty:0,presence_penalty:0,top_p:.95,stop:null,stream:!0,messages:[{role:"system",content:n},{role:"user",content:s}]}),headers:{"api-key":a,"Content-Type":"application/json"}});case 11:r=t.sent,l=new TextDecoder("utf-8"),c=r.body.getReader();case 14:return t.next=17,c.read();case 17:if(u=t.sent,d=u.done,h=u.value,!d){t.next=22;break}return t.abrupt("break",44);case 22:m=l.decode(h),p=m.split("data:"),f=p.slice(1),g=0,b=f.length;case 26:if(!(g<b)){t.next=39;break}if(f[g]=f[g].replace("\n\n",""),f[g].includes("[DONE]")){t.next=36;break}if(!JSON.parse(f[g])["choices"][0]["delta"]["content"]){t.next=36;break}if("<ERR>"!==m){t.next=35;break}return"Error",t.abrupt("break",39);case 35:i+=JSON.parse(f[g])["choices"][0]["delta"]["content"];case 36:g++,t.next=26;break;case 39:this.outputList.push(i),this.outcome+=i.replace(/\n/g,""),i="",t.next=14;break;case 44:v=this.messages.length,y=this.messages[v-1],"AI"==y.sender?(this.messages.pop(),this.messages.push({sender:"AI",content:[this.selectStr,this.outcome]})):this.messages.push({sender:"AI",content:[this.selectStr,this.outcome]});case 47:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),remoteMethod:function(t){var e=this;""!==t?(this.loading=!0,setTimeout((function(){e.loading=!1,e.options4=e.list.filter((function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1}))}),200)):this.options4=[]},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)},selectNav:function(t,e){console.log(t,e)},convertToword:function(){var t="".concat(this.LesInfo.lname,".docx");console.log("这里是触发了convertToword函数，word名称为："+this.LesInfo.lname);var e='\n\t\t\t\t    <!DOCTYPE html>\n\t\t\t\t    <html>\n\t\t\t\t      <head>\n\t\t\t\t        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n\t\t\t\t      </head>\n\t\t\t\t      <body>\n\t\t\t\t        '.concat(this.html,"\n\t\t\t\t      </body>\n\t\t\t\t    </html>\n\t\t\t\t  "),n=htmlDocx.asBlob(e);FileSaver.saveAs(n,t)},changeStyleCom:function(){this.editorChange.height="100%",this.editorChange.overflowY="vislble"},convertToPdf:function(){this.changeStyleCom(),htmlToPdf.getPdf("".concat(this.LesInfo.lname)),this.editorChange.height="85vh",this.editorChange.overflowY="auto"}},beforeDestroy:function(){var t=this.editor;null!=t&&t.destroy()}},Tt=Ct,It=(n("f8f2"),Object(B["a"])(Tt,nt,st,!1,null,"22c2a1fb",null)),Ot=It.exports,Nt=function(){var t=this,e=t._self._c;return e("el-container",{staticStyle:{height:"700px",border:"1px solid #eee"}},[e("el-header",{staticStyle:{"text-align":"right","font-size":"18px"}},[e("el-button",{staticStyle:{position:"absolute","z-index":"1000",top:"7%",right:"4%"},attrs:{icon:"el-icon-share"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("分享")]),e("el-dialog",{attrs:{title:"教案分享",visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{attrs:{model:t.form}},[e("el-form-item",{attrs:{label:"添加用户ID","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"用户权限:","label-width":t.formLabelWidth}},[e("el-select",{attrs:{placeholder:"请选择用户权限"},model:{value:t.form.limits,callback:function(e){t.$set(t.form,"limits",e)},expression:"form.limits"}},[e("el-option",{attrs:{label:"查看",value:"view"}}),e("el-option",{attrs:{label:"评论",value:"comment"}}),e("el-option",{attrs:{label:"编辑",value:"edit"}})],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1,t.sharelesson()}}},[t._v("确 定")])],1)],1),e("el-button",{attrs:{icon:"el-icon-coin"},on:{click:function(e){return t.savelesson()}}},[t._v("保存")]),e("el-button",{attrs:{icon:"el-icon-user",circle:""}})],1),e("el-container",[e("div",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px",id:"Navigation"}}),e("div",{staticStyle:{"background-color":"rgb(255, 255, 255)"},attrs:{id:"Lessoncontent"}})])],1)},Et=[],Pt=(n("8baf"),n("c0e9"),{data:function(){return{dialogFormVisible:!1,dialogdownload:!1,form:{name:"",limits:""},formLabelWidth:"120px",tableData:[]}},created:function(){this.fetchUserData()},methods:{fetchUserData:function(){var t=this,e=this.$route.params.id;p(e).then((function(e){console.log(e.data),t.tableData=e.data;var n=document.getElementById("Lessoncontent");n.outerHTML=t.tableData[0].Lessoncontent})).catch((function(t){console.error("Error:",t)}))},savelesson:function(){var t=this,e=this.$route.params.id,n=document.getElementById("Lessoncontent").outerHTML;y(e,LessonName,Navigation,n).then((function(e){1==e.data.status?t.$message({message:"修改成功",type:"success"}):t.$message.error("修改失败！")})).catch((function(e){t.$message.error("保存失败！！")}))},sharelesson:function(){var t=this,e=sessionStorage.getItem("user_name"),n=this.form.name,s=this.form.limits,a=this.$route.params.id;x(e,n,s,a).then((function(e){1==e.data.status?t.$message({message:"分享成功",type:"success"}):t.$message.error(e.data.data)})).catch((function(e){t.$message.error("分享失败！！")}))}}}),Mt=Pt,jt=(n("e845"),Object(B["a"])(Mt,Nt,Et,!1,null,null,null)),Bt=jt.exports,At=function(){var t=this,e=t._self._c;return e("div",{staticClass:"SetBackground"},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"},nativeOn:{submit:function(t){t.preventDefault()}}},[e("div",{staticStyle:{"padding-top":"0.725rem"}},[e("div",{staticClass:"hayabox"},[e("el-avatar",{staticClass:"animate__animated animate__pulse",attrs:{size:50,src:t.img_AI}}),e("span",{staticClass:"haya"},[t._v("\n\t\t\t\t    你好！我是你的教案生成助手。让我们开始生成属于你的教案吧！"),e("span",{staticClass:"animate__animated animate__flash animate__infinite"},[t._v("_")])])],1),e("div",{staticClass:"hayabox"},[t._v("请注意，您在此实验条件中的教案主题为：<<"+t._s(t.matchT)+">>,请在以下课程信息中输入教案主题(会自动匹配)。")]),e("div",{staticClass:"hayabox"},[t._v("请点击开始按钮，开始点击之后，开始计时。")]),e("div",{staticClass:"hayabox"},[e("el-button",{on:{click:t.startTimer}},[t._v("开始")]),e("el-button",[t._v("经历时间："+t._s(t.elapsedTime))])],1),e("div",{staticClass:"backgroundPlate"},[e("div",{staticClass:"block"},[t._v("\n                  课程信息：\n                        "),e("el-cascader",{attrs:{options:t.basic_options,filterable:""},model:{value:t.basic_info,callback:function(e){t.basic_info=e},expression:"basic_info"}})],1),e("div",{staticClass:"block"},[e("div",{staticClass:"JayChou"},[t._v("\n\t\t\t\t\t\t授课模式：\n\t\t\t\t\t\t    "),e("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:t.display_selected},model:{value:t.select_value,callback:function(e){t.select_value=e},expression:"select_value"}},t._l(t.select_options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v("\n                        第\n                        "),e("el-input-number",{attrs:{"controls-position":"right",min:1,max:10},on:{change:t.handleChange},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}}),t._v("\n                       课时\n                    ")],1)]),e("div",{staticClass:"block"},[e("span",{staticStyle:{float:"left","margin-top":"0.55rem"}},[t._v("教学结构：")]),e("el-checkbox-group",{model:{value:t.checkboxValues,callback:function(e){t.checkboxValues=e},expression:"checkboxValues"}},[e("el-checkbox",{attrs:{label:"教学内容分析",border:""}},[t._v(" 教学内容分析")]),e("el-checkbox",{attrs:{label:"学情分析",border:""}}),e("el-checkbox",{attrs:{label:"教学目标",border:""}},[t._v("教学目标(必选)")]),e("el-checkbox",{attrs:{label:"教学重难点",border:""},on:{click:t.Vision}}),e("el-checkbox",{attrs:{label:"教学过程",border:""}},[t._v("教学过程(必选)")]),e("el-checkbox",{attrs:{label:"学习评价",border:""}}),e("el-checkbox",{attrs:{label:"课后作业",border:""}}),e("el-button",{staticStyle:{"margin-left":"0.4125rem"},attrs:{icon:"el-icon-delete",circle:"",size:"mini"},on:{click:t.ClearSelection}})],1)],1),e("div",{staticClass:"block"},[e("span",{staticStyle:{float:"left","margin-top":"0.55rem"}},[t._v("教学模式：")]),e("div",{staticClass:"container container-with-shadow"},[e("el-container",{staticStyle:{height:"400px"}},[e("el-container",[e("el-aside",{staticStyle:{"overflow-y":"auto",height:"100%"},attrs:{width:"200px"}},[e("el-menu",{staticStyle:{height:"100%"},attrs:{"default-active":"1"},on:{select:t.handleMenuSelect}},[e("el-menu-item",{attrs:{index:"1"}},[t._v("自定义教学")]),e("el-menu-item",{attrs:{index:"2"}},[t._v("探究式教学")]),e("el-menu-item",{attrs:{index:"3"}},[t._v("讲授式教学")]),e("el-menu-item",{attrs:{index:"4"}},[t._v("协作式教学")]),e("el-menu-item",{attrs:{index:"5"}},[t._v("讲座式教学")]),e("el-menu-item",{attrs:{index:"6"}},[t._v("情景式教学")]),e("el-menu-item",{attrs:{index:"7"}},[t._v("研究式教学")]),e("el-menu-item",{attrs:{index:"8"}},[t._v("语文阅读课教学")]),e("el-menu-item",{attrs:{index:"9"}},[t._v("古诗阅读教学")])],1)],1),e("el-main",{staticClass:"content-container",staticStyle:{"overflow-y":"auto",height:"100%"}},["1"===t.currentTab?e("div",[e("div",[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px","text-align":"center"}},[t._v("模式简介\n\t\t\t\t\t                ")]),e("br"),e("span",{staticStyle:{"text-align":"center"}},[t._v("您可以根据自身需要自定义本节课的教学环节。")])]),e("div",{staticStyle:{"margin-top":"20px"}},[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("教学环节\n\t\t\t\t\t                ")]),e("br"),e("div",{staticClass:"draggable-container"},[e("draggable",{staticClass:"list-group",attrs:{list:t.list,disabled:!t.enabled,"ghost-class":"ghost",move:t.checkMove},on:{start:function(e){t.dragging=!0},end:function(e){t.dragging=!1}}},t._l(t.list,(function(n,s){return e("div",{key:n.id,staticClass:"user-defined"},[e("span",[t._v(t._s(t.indexToChar(s))+"、")]),e("el-input",{staticClass:"list-group-item",attrs:{type:"text",placeholder:"请输入内容"},model:{value:n.name,callback:function(e){t.$set(n,"name",e)},expression:"element.name"}}),e("el-button",{on:{click:function(e){return t.handleRemove(s)}}},[t._v("\n\t\t\t\t\t                                删除\n\t\t\t\t\t                                ")])],1)})),0)],1),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleAdd()}}},[t._v("\n\t\t\t\t\t                                添加\n\t\t\t\t\t                                ")])],1)]):"2"===t.currentTab?e("div",{staticStyle:{height:"100%"}},[e("div",[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("模式简介\n\t\t\t\t\t                ")]),e("br"),e("span",{staticStyle:{"margin-top":"20px"}},[t._v("探究式教学以问题解决为中心的，注重学生的独立活动，注重体验式教学，着眼于学生的思维能力的培养。")])]),e("div",{staticStyle:{"margin-top":"20px"}},[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("教学环节\n\t\t\t\t\t                ")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("一、情境创设，课程导入")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("二、分析问题，明确目标")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("三、动手实践，探究新知")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("四、课堂总结，建构概念")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("五、知识巩固，迁移应用")]),e("br")])]):"3"===t.currentTab?e("div",[e("div",[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("模式简介\n\t\t\t\t\t                ")]),e("br"),e("div",{staticStyle:{"text-align":"left"}},[t._v("该模式以传授系统知识、培养基本技能为目标。其着眼点在于充分挖掘人的记忆力、推理能力与间接经验在掌握知识方面的作用，使学生比较快速有效地掌握更多的信息量。")])]),e("div",{staticStyle:{"margin-top":"20px"}},[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("教学环节\n\t\t\t\t\t                ")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("一、导入新课")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("二、检查复习")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("三、讲授新课")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("四、巩固新课")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("五、课堂总结")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("六、布置作业")]),e("br")])]):"4"===t.currentTab?e("div",[e("div",[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("模式简介\n\t\t\t\t\t                ")]),e("br"),e("div",{staticStyle:{"text-align":"left"}},[t._v("协作式教学模式是一种强调学生互相合作、参与和共同构建知识的教学方法。它强调学生在教学过程中的积极参与和合作，促进他们的自主学习和批判性思维能力的培养。")])]),e("div",{staticStyle:{"margin-top":"20px"}},[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("教学环节\n\t\t\t\t\t                ")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("一、课程导入，明确主题")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("二、围绕主题，明确问题")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("三、小组协作，解决问题")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("四、成果展示，交流汇报")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("五、总结评价，优化方案")]),e("br")])]):"5"===t.currentTab?e("div",[e("div",[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("模式简介\n\t\t\t\t\t                ")]),e("br"),e("div",{staticStyle:{"text-align":"left"}},[t._v("对于相对独立或者前沿的教学内容，通过讲座的形式，教师或学生做主题发言，然后集体讨论探讨，让学生通过自学解决自己所能解决的问题，而把教师的主要精力用于指导学生的学习方法，解决教学中的重点、难点，既能加深对学习主题的理解，又扩充了学生学习的知识领域。")])]),e("div",{staticStyle:{"margin-top":"20px"}},[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("教学环节\n\t\t\t\t\t                ")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("一、教师分组，确定讲座主题")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("二、小组分工，协作准备")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("三、举行专题讲座")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("四、提问答疑")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("五、提交讲稿、报告")]),e("br")])]):"6"===t.currentTab?e("div",[e("div",[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("模式简介\n\t\t\t\t\t                ")]),e("br"),e("div",{staticStyle:{"text-align":"left"}},[t._v("应用情境教学法，设置与教学内容相关的情境，将教学内容理论知识和实践技能结合起来，模拟真实场景，通过学生间相互合作和协调，使学生真正成为课堂教学中的主体和自我发展的主体，从而科学有效地解决综合性实验教学中的问题，为理论教学和实践教学的结合提供良好的平台。")])]),e("div",{staticStyle:{"margin-top":"20px"}},[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("教学环节\n\t\t\t\t\t                ")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("一、设置问题情境，确立实验项目")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("二、小组分配")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("三、查找资料")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("四、设计实验方案")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("五、体验模拟")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("六、教师点评")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("七、提交体验报告")]),e("br")])]):"7"===t.currentTab?e("div",[e("div",[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("模式简介\n\t\t\t\t\t                ")]),e("div",{staticStyle:{"text-align":"left"}},[t._v("在教学的过程中，教师把研究的项目及方向和教学课程相结合，在教师的指导下，通过阅读文献或课题研究，在学习中研究、在研究中学习，遇到了问题深入分析研究，用已有知识学习求解问题所需要的知识，使学习和研究成为一个互动的过程。在研讨中积累知识、培养能力和锻炼思维。")])]),e("div",{staticStyle:{"margin-top":"20px"}},[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("教学环节\n\t\t\t\t\t                ")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("一、教师提出课题")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("二、小组分工，协作准备")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("三、深入研究")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("四、集体研讨")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("五、完成报告")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("六、评价")]),e("br")])]):"8"===t.currentTab?e("div",[e("div",[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("模式简介\n\t\t\t\t\t                ")]),e("div",{staticStyle:{"text-align":"left"}},[t._v("语文阅读课教学模式旨在通过创设情境、课文品读、拓展阅读、知识应用和评价反馈等环节，培养学生的阅读能力、理解能力和写作能力。通过引发学生的兴趣，帮助他们深入理解课文内容，扩展知识面并将所学知识应用到写作中，该教学模式能够全面发展学生的语文素养。")])]),e("div",{staticStyle:{"margin-top":"20px"}},[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("教学环节\n\t\t\t\t\t                ")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("一、创设情境，激发兴趣")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("二、课文品读，感受新知")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("三、拓展阅读，知识延伸")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("四、知识应用，写作训练")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("五、评价反馈，修正完善")]),e("br")])]):"9"===t.currentTab?e("div",[e("div",[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("模式简介\n\t\t\t\t\t                ")]),e("div",{staticStyle:{"text-align":"left"}},[t._v("该模式注重学生对古诗的感知和体验，通过扩展阅读和对照比较，学生能够进一步拓展对古诗的感知和体验，从而更好地欣赏和理解古诗的美。\n                                    ")])]),e("div",{staticStyle:{"margin-top":"20px"}},[e("span",{staticStyle:{"font-weight":"bold",display:"inline-block",height:"fit-content","margin-bottom":"20px"}},[t._v("教学环节\n\t\t\t\t\t                ")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("一、熟知诗人，明晓题意")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("二、理解诗意，体会诗情")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("三、扩展阅读，知识迁移")]),e("br"),e("span",{staticStyle:{display:"inline-block","text-align":"left","margin-left":"60px",width:"100%"}},[t._v("四、对照比较，知识总结")]),e("br")])]):t._e()])],1)],1)],1)]),e("div",{staticStyle:{margin:"0 auto","text-align":"center"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[e("i",{staticClass:"el-icon-circle-check"}),t._v("\t\n                            智能生成教案")])],1)])])])],1)},Vt=[],Lt=n("75fc"),$t=(n("f576"),n("b76a")),Dt=n.n($t),Rt=n("825d"),zt=n.n(Rt),Ft={components:{draggable:Dt.a},data:function(){return{order:"",startTime:null,timerId:null,elapsedTime:"00:00:00",matchT:"",studyPath:"",img_AI:ht.a,enabled:!0,teachMode:[],list:[{name:"情境创设，课程导入",id:0},{name:"分析问题，明确目标",id:1},{name:"动手实践，探究新知",id:2},{name:"课堂总结，建构概念",id:3},{name:"知识巩固，迁移应用",id:4}],newItemTemplate:{id:null,name:""},dragging:!1,Logo:zt.a,items:[{content:"情境创设，课程导入"},{content:"分析问题，明确目标"},{content:"动手实践，探究新知"},{content:"课堂总结，建构概念"},{content:"知识巩固，迁移应用"}],IsVisible:!0,currentTab:"1",form:{},checkboxValues:[],selectkey:0,textarea:"",select_value:"",select_options:[{value:"练习课",label:"练习课"},{value:"新授课",label:"新授课"},{value:"讲评课",label:"讲评课"},{value:"复习课",label:"复习课"},{value:"自定义课型",label:"自定义课型"}],num:1,basic_info:[],basic_options:[{value:"初中",label:"初中",children:[{value:"语文",label:"语文",children:[{value:"部编版",label:"部编版",children:[{value:"七年级上",label:"七年级上",children:[{value:"纪念白求恩/毛泽东",label:"纪念白求恩/毛泽东"}]},{value:"八年级上",label:"八年级上",children:[{value:" 渡荆门送别/李白",label:"渡荆门送别/李白"}]},{value:"八年级上",label:"八年级上",children:[{value:" 生于忧患，死于安乐《孟子三章》",label:"生于忧患，死于安乐《孟子三章》"}]},{value:"九年级上",label:"九年级上",children:[{value:"《乡愁》/余光中",label:"《乡愁》/余光中"}]}]}]},{value:"数学",label:"数学",children:[{value:"人教版",label:"人教版",children:[{value:"七年级上",label:"七年级上",children:[{value:"正数和负数",label:"正数和负数"}]},{value:"七年级下",label:"七年级下",children:[{value:" 消元——解二元一次方程组",label:"消元——解二元一次方程组"}]},{value:"八年级上",label:"八年级上",children:[{value:" 平方差公式",label:"平方差公式"}]},{value:"九年级上",label:"九年级上",children:[{value:"中心对称图形",label:"中心对称图形"}]}]}]},{value:"英语",label:"英语",children:[{value:"七年级上",label:"七年级上",children:[{value:"Good morning！",label:"Good morning！"}]},{value:"七年级上",label:"七年级上",children:[{value:"what color is it?",label:"what color is it?"}]},{value:"八年级上",label:"八年级上",children:[{value:"I‘m more outgoing than my sister",label:"I‘m more outgoing than my sister"}]},{value:"八年级上",label:"八年级上",children:[{value:"what‘s the best movie theater?",label:"what‘s the best movie theater?"}]}]}]}],course_info:[],course_options_Map:{"Chinese:primary:bubianban54":[{value:"one_F",label:"一年级上",children:[{value:"SZ",label:"识字",children:[{value:"TDR",label:"1.天地人"},{value:"JMSHT",label:"2.金木水火土"},{value:"KEM",label:"3.口耳木"}]}]}],"Chinese:primary:bubianban":[{value:"one_S",label:"一年级下",children:[{value:"WSXL",label:"1.我上学了"},{value:"SZ",label:"2.识字(一)"},{value:"HYPY",label:"3.汉语拼音"}]}]},course_options:[],modeList:["自定义教学","探究式教学","讲授式教学","协作式教学","讲座式教学","情景式教学","研究式教学","语文阅读课教学","古诗阅读教学模式","基于问题的教学","概念获得式教学","抛锚式教学",'"设问—导学"教学'],radio:""}},mounted:function(){this.order=this.$route.params.order,console.log(this.order),this.getStudyInfo()},methods:{startTimer:function(){var t=this;this.isTimerRunning||(this.startTime=new Date,this.timerId=setInterval((function(){t.updateElapsedTime()}),1e3),this.isTimerRunning=!0)},updateElapsedTime:function(){var t=new Date,e=t-this.startTime,n=Math.floor(e/36e5),s=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);this.elapsedTime="".concat(String(n).padStart(2,"0"),":").concat(String(s).padStart(2,"0"),":").concat(String(a).padStart(2,"0"))},getStudyInfo:function(){this.matchT=this.$route.params.matchTheme,this.studyPath=this.$route.params.path,this.order=this.$route.params.order+1,this.radio=this.$route.params.radio},handleAdd:function(){if(10!==this.list.length){this.list.length;var t=this.getNextId;this.list.push({name:"",id:t})}else this.$message({message:"已到最大数量",type:"warning"})},getNextId:function(){return Math.max.apply(Math,Object(Lt["a"])(this.list.map((function(t){return t.id}))))+1},handleRemove:function(t){1!==this.list.length?this.list.splice(t,1):this.$message({message:"请至少保留一个教学环节",type:"warning"})},addItem:function(){this.items.push("")},removeItem:function(t){1!==this.items.length?this.items.splice(t,1):this.$message({message:"请至少保留一个教学环节",type:"warning"})},indexToChar:function(t){var e=["一","二","三","四","五","六","七","八","九","十"];return e[t]},handleMenuSelect:function(t){this.currentTab=t},Vision:function(){this.IsVisible=!this.IsVisible},display_selected:function(t){},handleChange:function(t){},display_basic:function(t){},display_course:function(t){},display_input:function(t){},showSelect:function(t){},ClearSelection:function(){this.checkboxValues=[]},submitForm:function(){var t=[],e=this.currentTab;if("1"==this.currentTab)for(var n=0;n<this.list.length;n++)t.push(this.list[n].name);var s=this.basic_info,a=this.checkboxValues;console.log(a);var i=this.studyPath,o=this.startTime,r=this.order,l=this.radio,c=this.matchT;console.log("click:"+t),this.$router.push({name:i,params:{matchTheme:c,teachInfo:s,teachStru:a,startTime:o,order:r,radio:l,tab:e,freemode:t}})},checkMove:function(t){}},watch:{basic_info:function(t){this.course_options=[];var e=t.join(":");if(console.log(e),e in this.course_options_Map){console.log("this it is 7"),console.log(this.course_options_Map);var n=this.course_options_Map[e];this.course_options=n.map((function(t){return{value:t.value,label:t.label,children:t.children}}))}else this.course_options=[]}}},Ut=Ft,Yt=(n("b662"),Object(B["a"])(Ut,At,Vt,!1,null,"24bbf873",null)),Ht=Yt.exports,Gt=function(){var t=this,e=t._self._c;return e("div",[e("el-button",{staticStyle:{position:"absolute","z-index":"1000",top:"7%",right:"2%"},attrs:{icon:"el-icon-coin"},on:{click:function(e){return t.saveedu()}}},[t._v("保存")]),e("el-button",{staticStyle:{position:"absolute","z-index":"1000",top:"7%",right:"4%"},attrs:{icon:"el-icon-share"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("分享")]),e("el-dialog",{attrs:{title:"教案分享",visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{attrs:{model:t.form}},[e("el-form-item",{attrs:{label:"添加用户ID","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"用户权限:","label-width":t.formLabelWidth}},[e("el-select",{attrs:{placeholder:"请选择用户权限"},model:{value:t.form.limits,callback:function(e){t.$set(t.form,"limits",e)},expression:"form.limits"}},[e("el-option",{attrs:{label:"查看",value:"view"}}),e("el-option",{attrs:{label:"编辑",value:"edit"}})],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1,t.sharelesson()}}},[t._v("确 定")])],1)],1),e("iframe",{attrs:{name:"embed_readwrite",src:t.src,id:"Lessoncontent"}})],1)},Wt=[],Jt={data:function(){return{dialogFormVisible:!1,dialogdownload:!1,form:{name:"",limits:""},formLabelWidth:"120px",tableData:[],src:"",apiKey:"850315921b51572d1b15eab03e5ff5fae31cc336b5d2098df1bdc609648e9e16",teachInfo:[],teachStru:[],prompt:"",outputList:[],output:"",etherpad_name:"",lessonName:""}},mounted:function(){var t=this;this.getLessonInfo(),this.lessonGemStream(),h().then((function(e){var n=e.data.length;sessionStorage.getItem("user_name"),sessionStorage.getItem("user_name");t.etherpad_name=t.teachInfo[t.teachInfo.length-1],w(t.apiKey,t.etherpad_name).then((function(e){_(t.apiKey,t.etherpad_name,"").then((function(e){var n="http://127.0.0.1:9001/p/"+t.etherpad_name+"?"+"teachInfo=".concat(t.teachInfo);t.src=n})).catch((function(t){console.error("Error:",t)}))})).catch((function(t){console.error("Error:",t)}))})).catch((function(t){console.error("Error:",t)}))},created:function(){},methods:{getLessonInfo:function(){this.teachInfo=this.$route.params.teachInfo,this.lessonName=this.teachInfo[this.teachInfo.length-1],this.teachStru=this.$route.params.teachStru,this.output="<h1>".concat(this.lessonName,"</h1><br>")},lessonGemStream:function(){this.prompt="你是一个资深且专业的教学设计机器人。请你根据我提供的教学信息，设计一份优质的教案。\n\t\t\t\t课程信息：".concat(this.teachInfo,"\n                授课模式：练习课\n                教学结构：").concat(this.teachStru,"\n                教学模式：探究式教学\n\t\t\t\t输出格式：html");var t=this.teachStru.length;this.main(t)},main:function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e)){t.next=7;break}return t.next=4,this.generateTextStream(n);case 4:n++,t.next=1;break;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),generateTextStream:function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(e){var n,s,a,i,o,r,l,c,u,d,h,m,p,f,g,b,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="你是一个资深且专业的教学设计机器人。请你根据我提供的教学信息，设计一份优质教案。\n\t\t\t\t课程信息：".concat(this.teachInfo,"\n\t\t\t\t授课模式：练习课\n\t\t\t\t教学结构：").concat(this.teachStru,"\n\t\t\t\t教学模式：探究式教学\n\t\t\t\t"),s="请你运用你的专业知识，输出 ".concat(this.teachStru[e],",输出格式为：\n\t\t\t\t<h3>").concat(this.teachStru[e],"</h3><div>").concat(this.teachStru[e],"的内容<div>"),a="cfcea42fdab447bd8907728beaa56417","",i="",o="https://team3-at-2.openai.azure.com/openai/deployments/GPT35/chat/completions?api-version=2023-03-15-preview",t.next=8,fetch(o,{method:"POST",body:JSON.stringify({max_tokens:3e3,n:1,temperature:.5,frequency_penalty:0,presence_penalty:0,top_p:.95,stop:null,stream:!0,messages:[{role:"system",content:n},{role:"user",content:s}]}),headers:{"api-key":a,"Content-Type":"application/json"}});case 8:r=t.sent,l=new TextDecoder("utf-8"),c=r.body.getReader();case 11:return t.next=14,c.read();case 14:if(u=t.sent,d=u.done,h=u.value,!d){t.next=19;break}return t.abrupt("break",45);case 19:m=l.decode(h),p=m.split("data:"),f=p.slice(1),e=0,g=f.length;case 23:if(!(e<g)){t.next=39;break}if(console.log(f[e]),f[e]=f[e].replace("\n\n",""),f[e].includes("[DONE]")){t.next=36;break}if(!f[e]){t.next=36;break}if(b=JSON.parse(f[e]),!b["choices"][0]["delta"]){t.next=36;break}if("<ERR>"!==m){t.next=35;break}return"Error",t.abrupt("break",39);case 35:b["choices"][0]["delta"]["content"]&&(i+=b["choices"][0]["delta"]["content"]);case 36:e++,t.next=23;break;case 39:this.outputList.push(i),this.output+=i.replace("<br>",""),i="",(void 0)(this.apiKey,this.etherpad_name,this.output).then((function(t){})).catch((function(t){console.error("Error:",t)})),t.next=11;break;case 45:return v=e,t.abrupt("return",v);case 47:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),saveedu:function(){var t=this;sessionStorage;var e=sessionStorage.getItem("user_name"),n=this.lessonName,s="mqz1",a=document.getElementById("Lessoncontent").outerHTML;v(e,n,s,a).then((function(e){1==e.data.status?(t.$message({message:"保存成功",type:"success"}),t.$router.push("/Workspace")):t.$message.error("保存失败！")})).catch((function(e){t.$message.error("保存失败！！")}))},sharelesson:function(){var t=this,e=sessionStorage.getItem("user_name"),n=this.form.name,s=this.form.limits,a=this.$route.params.id;x(e,n,s,a).then((function(e){1==e.data.status?t.$message({message:"分享成功",type:"success"}):t.$message.error(e.data.data)})).catch((function(e){t.$message.error("分享失败！！")}))}}},Kt=Jt,qt=(n("29c0"),Object(B["a"])(Kt,Gt,Wt,!1,null,null,null)),Xt=qt.exports,Qt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg"},[t.isButtonHidden?t._e():e("el-row",[e("p",[t._v("请先选择您的教学科目：")])]),t.isButtonHidden?t._e():e("el-row",{attrs:{gutter:20}},[e("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.subjects,(function(n,s){return e("el-col",{key:s,attrs:{span:8}},[e("el-radio-button",{attrs:{label:n.text},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(t._s(n.text))])],1)})),1)],1),e("el-row",[t.isButtonHidden?t._e():e("el-button",{on:{click:t.shuffleButtonsa}},[t._v("点击我为您设计实验任务")])],1),t.isButtonHidden?e("el-row",[e("p",[t._v("请按照以下顺序开始您的实验吧！一共有四个实验条件"),e("span",{staticClass:"animate__animated animate__flash animate__infinite"},[t._v("_")])])]):t._e(),t.isButtonHidden?e("el-row",{attrs:{gutter:20}},t._l(t.shuffledButtons,(function(n,s){return e("el-col",{key:s,attrs:{span:6}},[e("el-button",{staticClass:"animate__animated animate__fadeIn shadowBox",attrs:{disabled:!n.completed},on:{click:function(e){return t.gotoStudy(n.path,s)}}},[t._v(t._s(n.text))])],1)})),1):t._e(),t.isButtonHidden?e("el-row",{attrs:{gutter:20}},[e("p",[t._v("为您分配好了每个实验条件的教案任务，请根据以上实验条件顺序开始实验，请放心，进入对应的实验中，依然会有提示提醒对应实验条件的教案任务。")]),t._l(t.matchTheme,(function(n,s){return e("el-col",{key:s,attrs:{span:6}},[e("div",{staticClass:"animate__animated animate__fadeIn shadowBox"},[t._v(t._s(n))])])}))],2):t._e()],1)},Zt=[],te={data:function(){return{radio:"语文",subjects:[{text:"语文",theme:["纪念白求恩/毛泽东","渡荆门送别/李白","生于忧患，死于安乐《孟子三章》","《乡愁》/余光中"]},{text:"数学",theme:["正数和负数","消元——解二元一次方程组","平方差公式","中心对称图形"]},{text:"英语",theme:["Good morning！","what color is it?","I‘m more outgoing than my sister","what‘s the best movie theater?"]}],buttons:[{text:"条件1：纯文本编辑器",path:"studyNo_1",completed:!0},{text:"条件2：纯文本编辑器+ChatGPT",path:"studyNo_2",completed:!0},{text:"条件3：智能教案生成",path:"studyNo_3",completed:!0},{text:"条件4：智能教案生成+教案AI助手",path:"studyNo_4",completed:!0}],shuffledButtons:[],isButtonHidden:!1,matchTheme:[],user_name:"",orders:[],id:0,orderli:[{order:[1,2,3,4]},{order:[2,3,4,1]},{order:[3,4,1,2]},{order:[4,1,2,3]}]}},mounted:function(){var t=this;this.user_name=sessionStorage.getItem("user_name"),console.log("我在这里："+this.user_name),C(this.user_name).then((function(e){if(console.log(e.data),0==e.data.length)t.isButtonHidden=!1;else{t.isButtonHidden=!0;var n=e.data;t.radio=n[0].Subject;for(var s=0;s<t.subjects.length;s++)if(t.subjects[s].text===t.radio){t.$set(t,"matchTheme",t.subjects[s].theme);break}t.shuffledButtons.push(t.buttons[n[0].Order1-1]),t.shuffledButtons.push(t.buttons[n[0].Order2-1]),t.shuffledButtons.push(t.buttons[n[0].Order3-1]),t.shuffledButtons.push(t.buttons[n[0].Order4-1])}})).catch((function(t){console.error("Error:",t)})),I(this.user_name).then((function(e){console.log(e.data);var n=e.data;0==n[0].Order1C?t.shuffledButtons[0].completed=!0:t.$set(t.shuffledButtons[0],"completed",!1),0==n[0].Order2C?t.shuffledButtons[1].completed=!0:t.$set(t.shuffledButtons[1],"completed",!1),0==n[0].Order3C?t.shuffledButtons[2].completed=!0:t.$set(t.shuffledButtons[2],"completed",!1),0==n[0].Order4C?t.shuffledButtons[3].completed=!0:t.$set(t.shuffledButtons[3],"completed",!1)})).catch((function(t){console.error("Error:",t)}))},methods:{shuffleButtonsa:function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(){var e,n,s,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("new radio:"+this.radio),t.prev=1,t.next=4,P(this.radio);case 4:e=t.sent,console.log("response data:"+e.data),this.id=e.data,console.log("new id:"+this.id),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.error("Error:",t.t0);case 13:console.log("id:"+this.id),this.isButtonHidden=!0,n=this.id%4,this.orders=Object(Lt["a"])(this.orderli[n].order),console.log("this.orders"+this.orders),this.shuffledButtons.push(this.buttons[this.orders[0]-1]),console.log(this.buttons[this.orders[0]-1]),this.shuffledButtons.push(this.buttons[this.orders[1]-1]),this.shuffledButtons.push(this.buttons[this.orders[2]-1]),this.shuffledButtons.push(this.buttons[this.orders[3]-1]),console.log("this.shuffledButtons:"+this.shuffledButtons[0]),s=this.radio,console.log("radio:"+s),a=0;case 27:if(!(a<this.subjects.length)){t.next=35;break}if(this.subjects[a].text!==this.radio){t.next=32;break}return this.$set(this,"matchTheme",this.subjects[a].theme),console.log(this.matchTheme),t.abrupt("break",35);case 32:a++,t.next=27;break;case 35:k(this.user_name,s,this.orders[0],this.orders[1],this.orders[2],this.orders[3]).then((function(t){i.$message({message:"成功！",type:"success"})})).catch((function(t){console.error("Error:",t)}));case 36:case"end":return t.stop()}}),t,this,[[1,10]])})));function e(){return t.apply(this,arguments)}return e}(),gotoStudy:function(t,e){var n=this.matchTheme[e],s=this.radio;"studyNo_1"==t||"studyNo_2"==t?this.$router.push({name:t,params:{radio:s,matchTheme:n,order:e}}):this.$router.push({name:"Inputinfo",params:{path:t,radio:s,matchTheme:n,order:e}})}}},ee=te,ne=(n("34fb"),Object(B["a"])(ee,Qt,Zt,!1,null,"2f6f31b8",null)),se=ne.exports,ae=function(){var t=this,e=t._self._c;return e("div",[e("el-row",{staticStyle:{width:"100%",padding:"0.75rem 0",display:"flex","justify-content":"space-between","align-items":"center"}},[e("el-col",{staticStyle:{"text-align":"left","padding-left":"1.25rem"},attrs:{span:8}},[e("p",[e("el-button",{attrs:{type:"primary"}},[t._v("实验条件1：纯文本编辑器")])],1),e("p",[e("el-tag",{attrs:{type:"warning"}},[t._v("教案任务详细介绍请点击最右侧蓝色图标")])],1)]),e("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[e("el-button",{on:{click:t.startTimer}},[t._v("开始")]),e("el-button",[t._v("经历时间："+t._s(t.elapsedTime))])],1),e("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[e("el-button",{attrs:{icon:"el-icon-coin"},on:{click:function(e){return t.saveedu()}}},[t._v("完成")]),e("el-button",{attrs:{icon:"el-icon-user",circle:""}})],1)],1),e("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{sm:23,md:24,lg:23,xl:23}},[e("div",{ref:"box",staticClass:"box"},[e("div",{staticClass:"left"},[e("div",[e("Toolbar",{attrs:{editor:t.editor,defaultConfig:t.toolbarConfig}}),e("Editor",{directives:[{name:"katex",rawName:"v-katex:auto",arg:"auto"}],style:t.editorChange,attrs:{id:"content",defaultConfig:t.editorConfig},on:{onChange:t.onChange,onCreated:t.onCreated},model:{value:t.html,callback:function(e){t.html=e},expression:"html"}})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.PromptStoreVisual,expression:"PromptStoreVisual"}],staticClass:"resize",attrs:{title:"收缩侧边栏"}},[t._v("\n\t\t\t\t\t⋮\n\t\t\t\t")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.PromptStoreVisual,expression:"PromptStoreVisual"}],staticClass:"mid"},[e("el-header",[e("el-button",{staticClass:"title",attrs:{type:"primary",round:"",size:"small"}},[t._v("任务步骤")])],1),e("el-scrollbar",{attrs:{"wrap-class":"message-list","wrap-style":"margin-top:20px;padding-left:20px;"}},t._l(t.options4,(function(n,s){return e("div",{key:s,staticStyle:{"margin-top":"10px"}},[e("p",{staticClass:"prom"},[t._v(" "+t._s(n))])])})),0),e("el-header",[e("el-button",{staticClass:"title",attrs:{type:"primary",round:"",size:"small"}},[t._v("教学模式")])],1),e("el-select",{attrs:{placeholder:"请选择教学模式"},model:{value:t.selectedState,callback:function(e){t.selectedState=e},expression:"selectedState"}},t._l(t.states,(function(t){return e("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})),1),t.selectedState?e("div",{staticClass:"prom",staticStyle:{margin:"0.5rem 1.2rem"}},[e("p",[t._v(t._s(t.getIntroByName(t.selectedState)))]),e("p",[t._v("教学环节：")]),t._l(t.getProceByName(t.selectedState),(function(n,s){return e("p",{key:s},[t._v(t._s(n))])}))],2):t._e()],1)])]),e("el-col",{staticClass:"bg-right",attrs:{sm:1,md:1,lg:1,xl:1}},[e("el-row",[e("div",{staticClass:"buttonAI",on:{click:t.clickBtnStore}},[e("el-avatar",{attrs:{size:40,src:t.img_Store}})],1)])],1)],1),e("el-dialog",{attrs:{title:"实验完成信息",visible:t.dialogForm4Visible},on:{"update:visible":function(e){t.dialogForm4Visible=e}}},[e("p",[t._v("您完成教案所耗费的时间为："+t._s(t.timeGo)+",总的教案字数为："+t._s(t.lessonSum))]),e("p",[t._v("接下来，请填写一份针对于该实验的调查问卷。")]),e("p",[t._v("填写网址："),e("a",{attrs:{href:"https://www.wjx.cn/vm/O6Q9wR8.aspx",target:"_blank"}},[t._v("实验1 调查问卷")])]),e("p"),e("p",[t._v("填写完毕后，请点击回到实验任务首页:")]),e("el-button",{on:{click:t.backToSum}},[t._v("实验任务首页")])],1)],1)},ie=[],oe=(n("7514"),n("d7ad")),re=n.n(oe);function le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(Object(n),!0).forEach((function(e){Object(ut["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ue={name:"MyEditor",components:{Editor:bt["a"],Toolbar:bt["b"]},computed:ce({},Object(xt["a"])({})),data:function(){return{headerContainer:"",outputList:[],input:"",output:"",output1:"",outcome:"",come:"",AIVisual:!1,VoiceClick:!1,PromptStoreVisual:!1,inputMessage:"",tip:"请输入内容",tipAdress:{},img_AI:ht.a,img_MY:pt.a,img_Store:gt.a,img_chat:re.a,messages:[{sender:"AI",content:"您好呀，有什么需要我帮助的吗？ "},{sender:"MY",content:"你好呀"}],editor:null,html:"请在这里可以编写教案。",toolbarConfig:{excludeKeys:["blockquote","group-more-style","insertLink","group-video","fullScreen"]},editorConfig:{placeholder:"这里显示教案内容...",scroll:!0,hoverbarKeys:{text:{menuKeys:["headerSelect","bold","underline","italic","|","fontSize","fontFamily"]}},MENU_CONF:{}},options4:[],options3:[],value9:[],list:["AA"],loading:!1,selectedState:"",states:[{name:"探究式教学",intro:"探究式教学以问题解决为中心的，注重学生的独立活动，注重体验式教学，着眼于学生的思维能力的培养。",proce:["一、情境创设，课程导入","二、分析问题，明确目标","三、动手实践，探究新知","四、课堂总结，建构概念","五、知识巩固，迁移应用"]},{name:"讲授式教学",intro:"该模式以传授系统知识、培养基本技能为目标。其着眼点在于充分挖掘人的记忆力、推理能力与间接经验在掌握知识方面的作用，使学生比较快速有效地掌握更多的信息量。",proce:["一、导入新课","二、检查复习","三、讲授新课","四、巩固新课","五、课堂总结","六、布置作业"]},{name:"协作式教学",intro:"协作式教学模式是一种强调学生互相合作、参与和共同构建知识的教学方法。它强调学生在教学过程中的积极参与和合作，促进他们的自主学习和批判性思维能力的培养。",proce:["一、课程导入，明确主题","二、围绕主题，明确问题","三、小组协作，解决问题","四、成果展示，交流汇报","五、总结评价，优化方案"]},{name:"讲座式教学",intro:"对于相对独立或者前沿的教学内容，通过讲座的形式，教师或学生做主题发言，然后集体讨论探讨，让学生通过自学解决自己所能解决的问题，而把教师的主要精力用于指导学生的学习方法，解决教学中的重点、难点，既能加深对学习主题的理解，又扩充了学生学习的知识领域。",proce:["一、教师分组，确定讲座主题","二、小组分工，协作准备","三、举行专题讲座","四、提问答疑","五、提交讲稿、报告"]},{name:"情景式教学",intro:"应用情境教学法，设置与教学内容相关的情境，将教学内容理论知识和实践技能结合起来，模拟真实场景，通过学生间相互合作和协调，使学生真正成为课堂教学中的主体和自我发展的主体，从而科学有效地解决综合性实验教学中的问题，为理论教学和实践教学的结合提供良好的平台。",proce:["一、设置问题情境，确立实验项目","二、小组分配","三、查找资料","四、设计实验方案","五、体验模拟","六、教师点评","七、提交体验报告"]},{name:"研究式教学",intro:"在教学的过程中，教师把研究的项目及方向和教学课程相结合，在教师的指导下，通过阅读文献或课题研究，在学习中研究、在研究中学习，遇到了问题深入分析研究，用已有知识学习求解问题所需要的知识，使学习和研究成为一个互动的过程。在研讨中积累知识、培养能力和锻炼思维。",proce:["一、教师提出课题","二、小组分工，协作准备","三、深入研究","四、集体研讨","五、完成报告","六、评价"]},{name:"语文阅读课教学",intro:"语文阅读课教学模式旨在通过创设情境、课文品读、拓展阅读、知识应用和评价反馈等环节，培养学生的阅读能力、理解能力和写作能力。通过引发学生的兴趣，帮助他们深入理解课文内容，扩展知识面并将所学知识应用到写作中，该教学模式能够全面发展学生的语文素养。",proce:["一、创设情境，激发兴趣","二、课文品读，感受新知","三、拓展阅读，知识延伸","四、知识应用，写作训练","五、评价反馈，修正完善"]},{name:"古诗阅读教学模式",intro:"该模式注重学生对古诗的感知和体验，通过扩展阅读和对照比较，学生能够进一步拓展对古诗的感知和体验，从而更好地欣赏和理解古诗的美。",proce:["一、熟知诗人，明晓题意","二、理解诗意，体会诗情","三、扩展阅读，知识迁移","四、对照比较，知识总结"]}],startTime:null,timerId:null,elapsedTime:"00:00:00",timeGo:"00:00:00",isTimerRunning:!1,editorChange:{height:"85vh",overflowY:"auto"},matchT:"",order:"",user_name:"",lessonSum:0,dialogForm4Visible:!1,radio:""}},watch:{output:function(){this.html="<p>".concat(this.output,"</p>")},input:function(){this.inputMessage="".concat(this.input)},outcome:function(){this.come=this.outcome}},mounted:function(){this.user_name=sessionStorage.getItem("user_name"),console.log("我在这里："+this.user_name),this.getLessonPlanName(),this.dragControllerDiv(),this.options4=["1-您在此实验条件中被分配的教案任务为:".concat(this.matchT),"2-在此实验条件中，希望您能通过纯文本编辑器进行教案设计，可以参考您以往的教学经验、教材、教学大纲等资料，也可以参考我们提供的电子课本、教学结构以及教学模式。","3-在编写过程中，不使用任何外部辅助工具或智能软件。","4-点击 开始 按钮之后，会开始计时，直到点击完成 按钮之后，结束此次教案设计。"],this.clickBtnStore()},created:function(){},methods:{backToSum:function(){this.$router.push("/studySum"),console.log("click me")},getIntroByName:function(t){var e=this.states.find((function(e){return e.name===t}));return e?e.intro:"未找到介绍"},getProceByName:function(t){var e=this.states.find((function(e){return e.name===t}));return e?e.proce:[]},getLessonPlanName:function(){this.matchT=this.$route.params.matchTheme,this.order=this.$route.params.order+1,this.radio=this.$route.params.radio,console.log(this.order)},startTimer:function(){var t=this;this.isTimerRunning||(this.startTime=new Date,this.timerId=setInterval((function(){t.updateElapsedTime()}),1e3),this.isTimerRunning=!0)},updateElapsedTime:function(){var t=new Date,e=t-this.startTime,n=Math.floor(e/36e5),s=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);this.elapsedTime="".concat(String(n).padStart(2,"0"),":").concat(String(s).padStart(2,"0"),":").concat(String(a).padStart(2,"0"))},saveedu:function(){var t=this;"00:00:00"==this.timeGo&&(this.timeGo=this.elapsedTime),this.dialogForm4Visible=!0,T(this.user_name,"".concat(this.order)).then((function(e){t.$message({message:"成功！",type:"success"})})).catch((function(t){console.error("Error:",t)})),O("实验1",this.user_name,this.radio,this.timeGo,this.lessonSum,this.html).then((function(e){t.$message({message:"成功！",type:"success"})})).catch((function(t){console.error("Error:",t)}))},dragControllerDiv:function(){var t=document.getElementsByClassName("resize"),e=document.getElementsByClassName("left"),n=document.getElementsByClassName("mid"),s=document.getElementsByClassName("box");t[0].onmousedown=function(a){t[0].style.background="#818181";var i=a.clientX;return t[0].left=t[0].offsetLeft,document.onmousemove=function(a){var o=a.clientX,r=t[0].left+(o-i),l=s[0].clientWidth-t[0].offsetWidth;r<32&&(r=32),r>l-150&&(r=l-150),t[0].style.left=r,e[0].style.width=r+"px",n[0].style.width=s[0].clientWidth-r-10+"px"},document.onmouseup=function(e){t[0].style.background="#d6d6d6",document.onmousemove=null,document.onmouseup=null,t[0].releasePointerCapture&&t[0].releasePointerCapture(1)},t[0].setPointerCapture&&t[0].setPointerCapture(1),!1}},sendMessage:function(){this.outcome="",this.inputMessage.trim()&&(this.messages.push({sender:"MY",content:this.inputMessage}),this.generateTextStreamToParagraph(this.inputMessage))},clickBtnStore:function(){document.getElementsByClassName("resize");var t=document.getElementsByClassName("left"),e=document.getElementsByClassName("mid");this.PromptStoreVisual?(this.PromptStoreVisual=!1,e[0].style.width="0%",t[0].style.width="100%"):(this.PromptStoreVisual=!0,t[0].style.width="68%",e[0].style.width="calc(32% - 10px)")},onCreated:function(t){this.editor=Object.seal(t)},insertNewNode:function(t){var e={type:"header3",children:[{text:"".concat(t)}]};this.editor.insertNode(e)},selectInsert:function(t){this.editor.select(this.tipAdress),this.editor.dangerouslyInsertHtml(t)},handleEnter:function(){},onChange:function(t){var e=t.getText();this.lessonSum=e.length},getEditorText:function(){this.editor},printEditorHtml:function(){this.editor},generateTextStreamToParagraph:function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(e){var n,s,a,i,o,r,l,c,u,d,h,m,p,f,g,b,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="",s="cfcea42fdab447bd8907728beaa56417","",a="",i="https://team3-at-2.openai.azure.com/openai/deployments/GPT35/chat/completions?api-version=2023-03-15-preview",t.next=7,fetch(i,{method:"POST",body:JSON.stringify({max_tokens:3e3,n:1,temperature:.5,frequency_penalty:0,presence_penalty:0,top_p:.95,stop:null,stream:!0,messages:[{role:"system",content:n},{role:"user",content:e}]}),headers:{"api-key":s,"Content-Type":"application/json"}});case 7:o=t.sent,r=new TextDecoder("utf-8"),l=o.body.getReader();case 10:return t.next=13,l.read();case 13:if(c=t.sent,u=c.done,d=c.value,!u){t.next=18;break}return t.abrupt("break",40);case 18:h=r.decode(d),m=h.split("data:"),p=m.slice(1),f=0,g=p.length;case 22:if(!(f<g)){t.next=35;break}if(p[f]=p[f].replace("\n\n",""),p[f].includes("[DONE]")){t.next=32;break}if(!JSON.parse(p[f])["choices"][0]["delta"]["content"]){t.next=32;break}if("<ERR>"!==h){t.next=31;break}return"Error",t.abrupt("break",35);case 31:a+=JSON.parse(p[f])["choices"][0]["delta"]["content"];case 32:f++,t.next=22;break;case 35:this.outputList.push(a),this.outcome+=a.replace(/\n/g,"<br>"),a="",t.next=10;break;case 40:b=this.messages.length,v=this.messages[b-1],"AI"==v.sender?(this.messages.pop(),this.messages.push({sender:"AI",content:this.outcome})):this.messages.push({sender:"AI",content:this.outcome});case 43:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),remoteMethod:function(t){var e=this;""!==t?(this.loading=!0,setTimeout((function(){e.loading=!1,e.options3=e.list.filter((function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1}))}),200)):this.options3=[]},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)},selectNav:function(t,e){console.log(t,e)},convertToword:function(){var t="".concat(this.LesInfo.lname,".docx");console.log("这里是触发了convertToword函数，word名称为："+this.LesInfo.lname);var e='\n\t\t\t\t    <!DOCTYPE html>\n\t\t\t\t    <html>\n\t\t\t\t      <head>\n\t\t\t\t        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n\t\t\t\t      </head>\n\t\t\t\t      <body>\n\t\t\t\t        '.concat(this.html,"\n\t\t\t\t      </body>\n\t\t\t\t    </html>\n\t\t\t\t  "),n=htmlDocx.asBlob(e);FileSaver.saveAs(n,t)},changeStyleCom:function(){this.editorChange.height="100%",this.editorChange.overflowY="vislble"},convertToPdf:function(){this.changeStyleCom(),htmlToPdf.getPdf("".concat(this.LesInfo.lname)),this.editorChange.height="85vh",this.editorChange.overflowY="auto"}},beforeDestroy:function(){var t=this.editor;null!=t&&t.destroy()}},de=ue,he=(n("d395"),Object(B["a"])(de,ae,ie,!1,null,"e9d98f0c",null)),me=he.exports,pe=function(){var t=this,e=t._self._c;return e("div",[e("el-row",{staticStyle:{width:"100%",padding:"0.75rem 0",display:"flex","justify-content":"space-between","align-items":"center"}},[e("el-col",{staticStyle:{"text-align":"left","margin-left":"1.875rem"},attrs:{span:8}},[e("p",[e("el-button",{attrs:{type:"primary"}},[t._v("实验条件2：纯文本编辑器+ChatGPT")])],1),e("p",[e("el-tag",{attrs:{type:"warning"}},[t._v("右侧第一个蓝色图标为chatgpt")])],1),e("p",[e("el-tag",{attrs:{type:"warning"}},[t._v("教案任务详细介绍请点击最右侧第2个蓝色图标")])],1)]),e("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[e("el-button",{on:{click:t.startTimer}},[t._v("开始")]),e("el-button",[t._v("经历时间："+t._s(t.elapsedTime))])],1),e("el-col",{staticStyle:{"text-align":"right","margin-right":"0.875rem"},attrs:{span:8}},[e("el-button",{attrs:{icon:"el-icon-coin"},on:{click:function(e){return t.saveedu()}}},[t._v("完成")]),e("el-button",{attrs:{icon:"el-icon-user",circle:""}})],1)],1),e("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{sm:23,md:24,lg:23,xl:23}},[e("div",{ref:"box",staticClass:"box"},[e("div",{staticClass:"left"},[e("div",[e("Toolbar",{attrs:{editor:t.editor,defaultConfig:t.toolbarConfig}}),e("Editor",{directives:[{name:"katex",rawName:"v-katex:auto",arg:"auto"}],style:t.editorChange,attrs:{id:"content",defaultConfig:t.editorConfig},on:{onChange:t.onChange,onCreated:t.onCreated},model:{value:t.html,callback:function(e){t.html=e},expression:"html"}})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.AIVisual||t.PromptStoreVisual,expression:"AIVisual||PromptStoreVisual"}],staticClass:"resize",attrs:{title:"收缩侧边栏"}},[t._v("\n\t\t\t\t\t⋮\n\t\t\t\t")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.AIVisual,expression:"AIVisual"}],staticClass:"mid"},[e("div",[e("el-container",[e("el-header",[e("el-button",{staticClass:"title",attrs:{type:"primary",round:"",size:"small"}},[t._v("ChatGPT")])],1),e("el-main",[e("el-scrollbar",{ref:"scrollMenuRes",attrs:{"wrap-class":"message-list","wrap-style":"height:30rem;"}},t._l(t.messages,(function(n,s){return e("div",{key:s,class:{"message-item-AI":"AI"==n.sender,"animate__animated animate__fadeInUp":!0,"message-item-MY":"MY"==n.sender}},["AI"==n.sender?e("div",{staticStyle:{float:"left","margin-right":"0.4rem"}},[e("el-avatar",{attrs:{size:35,src:t.img_chat}})],1):t._e(),e("div",["MY"==n.sender?e("p",[t._v(" "+t._s(n.content))]):t._e(),"AI"==n.sender?e("div",{staticStyle:{overflow:"hidden","padding-top":"3px"}},[e("div",[e("p",{directives:[{name:"katex",rawName:"v-katex:auto",arg:"auto"}],domProps:{innerHTML:t._s(n.content)}}),0!=s?e("el-rate",{staticStyle:{width:"180px"},attrs:{"show-text":"",colors:["#99A9BF","#a0cff7","#3a93ff"]},on:{change:function(e){return t.handleTime(n.rate,s)}},model:{value:n.rate,callback:function(e){t.$set(n,"rate",e)},expression:"message.rate"}}):t._e()],1)]):t._e()]),"MY"==n.sender?e("div",{staticStyle:{float:"right","margin-left":"0.3125rem"}},[e("el-avatar",{attrs:{size:40,src:t.img_MY}})],1):t._e()])})),0)],1),e("el-footer",[e("div",{staticClass:"footer-left"},[e("el-input",{attrs:{placeholder:t.tip,rows:4,type:"textarea",id:"voiceTxt"},model:{value:t.inputMessage,callback:function(e){t.inputMessage=e},expression:"inputMessage"}})],1),e("div",{staticClass:"footer-right"},[e("el-row",[e("el-popover",{attrs:{placement:"right",trigger:"hover"}},[e("el-button",{staticStyle:{border:"0px"},attrs:{slot:"reference",size:"small"},slot:"reference"})],1)],1),e("el-row",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"发送",placement:"right"}},[e("el-button",{staticClass:"el-icon-s-promotion",attrs:{circle:"",size:"small"},on:{click:t.sendMessage}})],1)],1)],1)])],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.PromptStoreVisual,expression:"PromptStoreVisual"}],staticClass:"mid1"},[e("el-header",[e("el-button",{staticClass:"title",attrs:{type:"primary",round:"",size:"small"}},[t._v("任务步骤")])],1),e("el-scrollbar",{attrs:{"wrap-class":"message-list","wrap-style":"margin-top:20px;padding-left:20px;"}},t._l(t.options4,(function(n,s){return e("div",{key:s,staticStyle:{"margin-top":"10px"}},[e("p",{staticClass:"prom"},[t._v(" "+t._s(n))])])})),0),e("el-header",[e("el-button",{staticClass:"title",attrs:{type:"primary",round:"",size:"small"}},[t._v("教学模式")])],1),e("el-select",{attrs:{placeholder:"请选择教学模式"},model:{value:t.selectedState,callback:function(e){t.selectedState=e},expression:"selectedState"}},t._l(t.states,(function(t){return e("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})),1),t.selectedState?e("div",{staticClass:"prom",staticStyle:{margin:"0.5rem 1.2rem"}},[e("p",[t._v(t._s(t.getIntroByName(t.selectedState)))]),e("p",[t._v("教学环节：")]),t._l(t.getProceByName(t.selectedState),(function(n,s){return e("p",{key:s},[t._v(t._s(n))])}))],2):t._e()],1)])]),e("el-col",{staticClass:"bg-right",attrs:{sm:1,md:1,lg:1,xl:1}},[e("el-row",[e("div",{staticClass:"buttonAI",on:{click:t.clickBtnAI}},[e("el-avatar",{attrs:{size:35,src:t.img_chat}})],1),e("div",{staticClass:"buttonAI",on:{click:t.clickBtnStore}},[e("el-avatar",{attrs:{size:40,src:t.img_Store}})],1)])],1)],1),e("el-dialog",{attrs:{title:"完成信息",visible:t.dialogForm4Visible},on:{"update:visible":function(e){t.dialogForm4Visible=e}}},[e("p",[t._v("您完成教案所耗费的时间为："+t._s(t.timeGo)+",总的教案字数为："+t._s(t.lessonSum))]),e("p",[t._v("接下来，请填写一份针对于该实验条件下的调查问卷。")]),e("p",[t._v("填写网址："),e("a",{attrs:{href:"https://www.wjx.cn/vm/tbD4fkH.aspx",target:"_blank"}},[t._v("实验条件2 调查问卷")])]),e("p"),e("p",[t._v("填写完毕后，请点击回到实验任务首页:")]),e("el-button",{on:{click:t.backToSum}},[t._v("实验任务首页")])],1)],1)},fe=[];n("c1e9");function ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(n),!0).forEach((function(e){Object(ut["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ve={name:"MyEditor",components:{Editor:bt["a"],Toolbar:bt["b"]},computed:be({},Object(xt["a"])({})),data:function(){return{headerContainer:"",outputList:[],input:"",output:"",output1:"",outcome:"",come:"",AIVisual:!1,VoiceClick:!1,PromptStoreVisual:!1,inputMessage:"",tip:"请输入内容",tipAdress:{},img_AI:ht.a,img_MY:pt.a,img_Store:gt.a,img_chat:re.a,messages:[{sender:"AI",content:"您好呀，有什么需要我帮助的吗？ "},{sender:"MY",content:"你好呀"}],cmessage:[{role:"system",content:""}],editor:null,html:"请在这里可以编写教案。",toolbarConfig:{excludeKeys:["blockquote","group-more-style","insertLink","group-video","fullScreen"]},editorConfig:{placeholder:"这里显示教案内容...",scroll:!0,hoverbarKeys:{text:{menuKeys:["headerSelect","bold","underline","italic","|","fontSize","fontFamily"]}},MENU_CONF:{}},options4:[],value9:[],list:[],loading:!1,selectedState:"",states:[{name:"探究式教学",intro:"探究式教学以问题解决为中心的，注重学生的独立活动，注重体验式教学，着眼于学生的思维能力的培养。",proce:["一、情境创设，课程导入","二、分析问题，明确目标","三、动手实践，探究新知","四、课堂总结，建构概念","五、知识巩固，迁移应用"]},{name:"讲授式教学",intro:"该模式以传授系统知识、培养基本技能为目标。其着眼点在于充分挖掘人的记忆力、推理能力与间接经验在掌握知识方面的作用，使学生比较快速有效地掌握更多的信息量。",proce:["一、导入新课","二、检查复习","三、讲授新课","四、巩固新课","五、课堂总结","六、布置作业"]},{name:"协作式教学",intro:"协作式教学模式是一种强调学生互相合作、参与和共同构建知识的教学方法。它强调学生在教学过程中的积极参与和合作，促进他们的自主学习和批判性思维能力的培养。",proce:["一、课程导入，明确主题","二、围绕主题，明确问题","三、小组协作，解决问题","四、成果展示，交流汇报","五、总结评价，优化方案"]},{name:"讲座式教学",intro:"对于相对独立或者前沿的教学内容，通过讲座的形式，教师或学生做主题发言，然后集体讨论探讨，让学生通过自学解决自己所能解决的问题，而把教师的主要精力用于指导学生的学习方法，解决教学中的重点、难点，既能加深对学习主题的理解，又扩充了学生学习的知识领域。",proce:["一、教师分组，确定讲座主题","二、小组分工，协作准备","三、举行专题讲座","四、提问答疑","五、提交讲稿、报告"]},{name:"情景式教学",intro:"应用情境教学法，设置与教学内容相关的情境，将教学内容理论知识和实践技能结合起来，模拟真实场景，通过学生间相互合作和协调，使学生真正成为课堂教学中的主体和自我发展的主体，从而科学有效地解决综合性实验教学中的问题，为理论教学和实践教学的结合提供良好的平台。",proce:["一、设置问题情境，确立实验项目","二、小组分配","三、查找资料","四、设计实验方案","五、体验模拟","六、教师点评","七、提交体验报告"]},{name:"研究式教学",intro:"在教学的过程中，教师把研究的项目及方向和教学课程相结合，在教师的指导下，通过阅读文献或课题研究，在学习中研究、在研究中学习，遇到了问题深入分析研究，用已有知识学习求解问题所需要的知识，使学习和研究成为一个互动的过程。在研讨中积累知识、培养能力和锻炼思维。",proce:["一、教师提出课题","二、小组分工，协作准备","三、深入研究","四、集体研讨","五、完成报告","六、评价"]},{name:"语文阅读课教学",intro:"语文阅读课教学模式旨在通过创设情境、课文品读、拓展阅读、知识应用和评价反馈等环节，培养学生的阅读能力、理解能力和写作能力。通过引发学生的兴趣，帮助他们深入理解课文内容，扩展知识面并将所学知识应用到写作中，该教学模式能够全面发展学生的语文素养。",proce:["一、创设情境，激发兴趣","二、课文品读，感受新知","三、拓展阅读，知识延伸","四、知识应用，写作训练","五、评价反馈，修正完善"]},{name:"古诗阅读教学模式",intro:"该模式注重学生对古诗的感知和体验，通过扩展阅读和对照比较，学生能够进一步拓展对古诗的感知和体验，从而更好地欣赏和理解古诗的美。",proce:["一、熟知诗人，明晓题意","二、理解诗意，体会诗情","三、扩展阅读，知识迁移","四、对照比较，知识总结"]}],startTime:null,timerId:null,elapsedTime:"00:00:00",timeGo:"00:00:00",isTimerRunning:!1,editorChange:{height:"85vh",overflowY:"auto"},matchT:"",lessonSum:0,dialogForm4Visible:!1,prom:"你是一位，请你为老师设计一份优质且详细的教案，我将为你提供教学的基本信息以及教学模式。\n教学基本信息:\n年级科目：六年级数学\n教学主题：圆的认识\n教学模式-\n探究式教学模式是指在教学过程中，要求学生在教师指导下，通过以“自主、探究、合作”为特征的学习方式对当前教学内容中的主要知识点进行自主学习、深入探究并进行小组合作交流，从而较好地达到课程标准中关于认知、情感等目标要求的一种教学模式。\n我想要你生成的教案遵循以下要求:\n1-要求教案结构中每一个教学要素要分点。\n2-要求教学过程与教学模式相匹配，每个教学环节需要至少2-3个活动，每个活动需要包括活动意图、教学行为、学生行为。\n输出格式(html)-（这里可修改您想要生成的教案结构）\n教学内容分析\n教学目标\n学习重难点\n教学过程",order:"",user_name:"",radio:""}},watch:{output:function(){this.html="<p>".concat(this.output,"</p>")},input:function(){this.inputMessage="".concat(this.input)},outcome:function(){this.come=this.outcome}},mounted:function(){this.user_name=sessionStorage.getItem("user_name"),console.log("我在这里："+this.user_name),this.getLessonPlanName(),this.options4=["1-您在此实验条件中被分配的教案任务为:".concat(this.matchT),"2-在此实验条件中，希望您能通过chatgpt进行生成一份教案，并且至少一次向chatgpt提问进行优化调整教案内容。","3-点击 开始 按钮之后，会开始计时，直到点击完成 按钮之后，结束此次教案设计。","4-您还可以参考我们的教学模式库或者自定义教学模式进行设计教学过程。"],this.dragControllerDiv(),console.log(this.prom),this.clickBtnStore()},created:function(){},methods:{backToSum:function(){this.$router.push("/studySum"),console.log("click me")},handleTime:function(t,e){var n=this;this.messages[e].rate=t,console.log("here:"+t),this.messages[e].time=new Date;var s=new Date-this.messages[e].aitime;this.messages[e].dtime=s/1e3,console.log(this.messages[e].rate+this.messages[e].time),console.log(this.messages);var a=this.messages[e].time,i=a.getHours().toString().padStart(2,"0"),o=a.getMinutes().toString().padStart(2,"0"),r=a.getSeconds().toString().padStart(2,"0"),l=a.getMilliseconds();l<10?l="0000"+l:l<100?l="000"+l:l<1e3?l="00"+l:l<1e4&&(l="0"+l);var c="".concat(i,":").concat(o,":").concat(r,".").concat(l),u=this.messages[e].aitime,d=(u.getHours().toString().padStart(2,"0"),u.getMinutes().toString().padStart(2,"0"),u.getSeconds().toString().padStart(2,"0"),u.getMilliseconds());d<10?d="0000"+d:d<100?d="000"+d:d<1e3?d="00"+d:d<1e4&&(d="0"+d);var h="".concat(i,":").concat(o,":").concat(r,".").concat(l);N("chatgpt",this.user_name,this.messages[e].content,h,"",this.messages[e].dtime,this.messages[e].rate,c).then((function(t){n.$message({message:"inserthistoryaia chatgpt成功！",type:"success"})})).catch((function(t){console.error("Error:",t)}))},getIntroByName:function(t){var e=this.states.find((function(e){return e.name===t}));return e?e.intro:"未找到介绍"},getProceByName:function(t){var e=this.states.find((function(e){return e.name===t}));return e?e.proce:[]},getLessonPlanName:function(){this.matchT=this.$route.params.matchTheme,this.order=this.$route.params.order+1,this.radio=this.$route.params.radio,console.log(this.$route.params.matchTheme)},startTimer:function(){var t=this;this.isTimerRunning||(this.startTime=new Date,this.timerId=setInterval((function(){t.updateElapsedTime()}),1e3),this.isTimerRunning=!0)},updateElapsedTime:function(){var t=new Date,e=t-this.startTime,n=Math.floor(e/36e5),s=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);this.elapsedTime="".concat(String(n).padStart(2,"0"),":").concat(String(s).padStart(2,"0"),":").concat(String(a).padStart(2,"0"))},saveedu:function(){var t=this;"00:00:00"==this.timeGo&&(this.timeGo=this.elapsedTime),this.dialogForm4Visible=!0,T(this.user_name,"".concat(this.order)).then((function(e){t.$message({message:"成功！",type:"success"})})).catch((function(t){console.error("Error:",t)})),O("实验2",this.user_name,this.radio,this.timeGo,this.lessonSum,this.html).then((function(e){t.$message({message:"成功！",type:"success"})})).catch((function(t){console.error("Error:",t)}))},dragControllerDiv:function(){var t=document.getElementsByClassName("resize"),e=document.getElementsByClassName("left"),n=document.getElementsByClassName("mid"),s=document.getElementsByClassName("box");t[0].onmousedown=function(a){t[0].style.background="#818181";var i=a.clientX;return t[0].left=t[0].offsetLeft,document.onmousemove=function(a){var o=a.clientX,r=t[0].left+(o-i),l=s[0].clientWidth-t[0].offsetWidth;r<32&&(r=32),r>l-150&&(r=l-150),t[0].style.left=r,e[0].style.width=r+"px",n[0].style.width=s[0].clientWidth-r-10+"px"},document.onmouseup=function(e){t[0].style.background="#d6d6d6",document.onmousemove=null,document.onmouseup=null,t[0].releasePointerCapture&&t[0].releasePointerCapture(1)},t[0].setPointerCapture&&t[0].setPointerCapture(1),!1}},sendMessage:function(){var t=this;if(this.outcome="",this.inputMessage.trim()){this.messages.push({sender:"MY",content:this.inputMessage});var e=new Date,n=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),a=e.getSeconds().toString().padStart(2,"0"),i=e.getMilliseconds();i<10?i="0000"+i:i<100?i="000"+i:i<1e3?i="00"+i:i<1e4&&(i="0"+i);var o="".concat(n,":").concat(s,":").concat(a,".").concat(i);N(this.user_name,"chatgpt",this.inputMessage,o,"","",0,o).then((function(e){t.$message({message:"inserthistoryc 用户成功！",type:"success"})})).catch((function(t){console.error("Error:",t)})),this.generateTextStreamToParagraph(this.inputMessage)}},clickBtnAI:function(){document.getElementsByClassName("resize");var t=document.getElementsByClassName("left"),e=document.getElementsByClassName("mid");this.AIVisual?(this.AIVisual=!1,e[0].style.width="0%",t[0].style.width="100%"):(this.AIVisual=!0,this.PromptStoreVisual=!1,t[0].style.width="68%",e[0].style.width="calc(32% - 10px)")},clickBtnStore:function(){document.getElementsByClassName("resize");var t=document.getElementsByClassName("left"),e=document.getElementsByClassName("mid1");this.PromptStoreVisual?(this.PromptStoreVisual=!1,e[0].style.width="0%",t[0].style.width="100%"):(this.PromptStoreVisual=!0,this.AIVisual=!1,t[0].style.width="68%",e[0].style.width="calc(32% - 10px)")},onCreated:function(t){this.editor=Object.seal(t)},insertNewNode:function(t){var e={type:"header3",children:[{text:"".concat(t)}]};this.editor.insertNode(e)},selectInsert:function(t){this.editor.select(this.tipAdress),this.editor.dangerouslyInsertHtml(t)},handleEnter:function(){},onChange:function(t){var e=t.getText();this.lessonSum=e.length},getEditorText:function(){this.editor},printEditorHtml:function(){this.editor},generateTextStreamToParagraph:function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(e){var n,s,a,i,o,r,l,c,u,d,h,m,p,f,g,b,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"",n="cfcea42fdab447bd8907728beaa56417","",s="",a=this.messages.length,i=this.messages[a-1],"AI"==i.sender?this.messages[this.messages.length-1].content="":this.messages.push({sender:"AI",content:"",rate:null,time:null,aitime:new Date,dtime:null}),this.cmessage.push({role:"user",content:e}),o="https://team3-at-2.openai.azure.com/openai/deployments/GPT35/chat/completions?api-version=2023-03-15-preview",t.next=11,fetch(o,{method:"POST",body:JSON.stringify({max_tokens:3e3,n:1,temperature:.5,frequency_penalty:0,presence_penalty:0,top_p:.95,stop:null,stream:!0,messages:this.cmessage}),headers:{"api-key":n,"Content-Type":"application/json"}});case 11:r=t.sent,l=new TextDecoder("utf-8"),c=r.body.getReader();case 14:return t.next=17,c.read();case 17:if(u=t.sent,d=u.done,h=u.value,!d){t.next=22;break}return t.abrupt("break",44);case 22:m=l.decode(h),p=m.split("data:"),f=p.slice(1),g=0,b=f.length;case 26:if(!(g<b)){t.next=39;break}if(f[g]=f[g].replace("\n\n",""),f[g].includes("[DONE]")){t.next=36;break}if(!JSON.parse(f[g])["choices"][0]["delta"]["content"]){t.next=36;break}if("<ERR>"!==m){t.next=35;break}return"Error",t.abrupt("break",39);case 35:s+=JSON.parse(f[g])["choices"][0]["delta"]["content"];case 36:g++,t.next=26;break;case 39:this.outputList.push(s),this.outcome+=s.replace(/\n/g,"<br>"),s="",t.next=14;break;case 44:this.$set(this.messages[this.messages.length-1],"content",this.outcome),this.cmessage.push({role:"assistant",content:this.outcome}),console.log(this.cmessage),v=this.$refs["scrollMenuRes"].$refs["wrap"],this.$nextTick((function(){v.style.scrollBehavior="smooth",v.scrollTop=v.scrollHeight}));case 49:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),remoteMethod:function(t){var e=this;""!==t?(this.loading=!0,setTimeout((function(){e.loading=!1,e.options4=e.list.filter((function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1}))}),200)):this.options4=[]},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)},selectNav:function(t,e){console.log(t,e)},convertToword:function(){var t="".concat(this.LesInfo.lname,".docx");console.log("这里是触发了convertToword函数，word名称为："+this.LesInfo.lname);var e='\n\t\t\t\t    <!DOCTYPE html>\n\t\t\t\t    <html>\n\t\t\t\t      <head>\n\t\t\t\t        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n\t\t\t\t      </head>\n\t\t\t\t      <body>\n\t\t\t\t        '.concat(this.html,"\n\t\t\t\t      </body>\n\t\t\t\t    </html>\n\t\t\t\t  "),n=htmlDocx.asBlob(e);FileSaver.saveAs(n,t)},changeStyleCom:function(){this.editorChange.height="100%",this.editorChange.overflowY="vislble"},convertToPdf:function(){this.changeStyleCom(),htmlToPdf.getPdf("".concat(this.LesInfo.lname)),this.editorChange.height="85vh",this.editorChange.overflowY="auto"}},beforeDestroy:function(){var t=this.editor;null!=t&&t.destroy()}},ye=ve,xe=(n("b12f"),Object(B["a"])(ye,pe,fe,!1,null,"702a32d2",null)),Se=xe.exports,_e=function(){var t=this,e=t._self._c;return e("div",[e("el-row",{staticStyle:{width:"100%",padding:"0.75rem 0",display:"flex","justify-content":"space-between","align-items":"center"}},[e("el-col",{staticStyle:{"text-align":"left","margin-left":"1.875rem"},attrs:{span:8}},[e("p",[e("el-button",{attrs:{type:"primary"}},[t._v("实验条件3：智能教案生成")])],1),e("p",[e("el-tag",{attrs:{type:"warning"}},[t._v("教案任务详细介绍请点击最右侧蓝色图标")])],1)]),e("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[e("el-button",[t._v("经历时间："+t._s(t.elapsedTime))])],1),e("el-col",{staticStyle:{"text-align":"right","margin-right":"0.875rem"},attrs:{span:8}},[e("el-button",{attrs:{icon:"el-icon-coin"},on:{click:function(e){return t.saveedu()}}},[t._v("完成")]),e("el-button",{attrs:{icon:"el-icon-user",circle:""}})],1)],1),e("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-between"}},[e("el-col",{staticClass:"col01",attrs:{sm:1,md:3,lg:3,xl:3}}),e("el-col",{attrs:{sm:23,md:24,lg:23,xl:23}},[e("div",{ref:"box",staticClass:"box"},[e("div",{staticClass:"left"},[e("div",[e("Toolbar",{attrs:{editor:t.editor,defaultConfig:t.toolbarConfig}}),e("Editor",{directives:[{name:"katex",rawName:"v-katex:auto",arg:"auto"}],style:t.editorChange,attrs:{id:"content",defaultConfig:t.editorConfig},on:{onChange:t.onChange,onCreated:t.onCreated},model:{value:t.html,callback:function(e){t.html=e},expression:"html"}}),e("div",{staticStyle:{width:"180px",position:"absolute",left:"0",top:"30%"}},[e("ul",{attrs:{id:"header-container"}})])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.PromptStoreVisual,expression:"PromptStoreVisual"}],staticClass:"resize",attrs:{title:"收缩侧边栏"}},[t._v("\n\t\t\t\t\t⋮\n\t\t\t\t")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.PromptStoreVisual,expression:"PromptStoreVisual"}],staticClass:"mid"},[e("el-header",[e("el-button",{staticClass:"title",attrs:{type:"primary",round:"",size:"small"}},[t._v("任务步骤")])],1),e("el-scrollbar",{attrs:{"wrap-class":"message-list","wrap-style":"margin-top:20px;padding-left:20px;"}},t._l(t.options4,(function(n,s){return e("div",{key:s,staticStyle:{"margin-top":"10px"}},[e("p",{staticClass:"prom"},[t._v(" "+t._s(n))])])})),0),e("el-header",[e("el-button",{staticClass:"title",attrs:{type:"primary",round:"",size:"small"}},[t._v("教学模式")])],1),e("el-select",{attrs:{placeholder:"请选择教学模式"},model:{value:t.selectedState,callback:function(e){t.selectedState=e},expression:"selectedState"}},t._l(t.states,(function(t){return e("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})),1),t.selectedState?e("div",{staticClass:"prom",staticStyle:{margin:"0.5rem 1.2rem"}},[e("p",[t._v(t._s(t.getIntroByName(t.selectedState)))]),e("p",[t._v("教学环节：")]),t._l(t.getProceByName(t.selectedState),(function(n,s){return e("p",{key:s},[t._v(t._s(n))])}))],2):t._e()],1)])]),e("el-col",{staticClass:"bg-right",attrs:{sm:1,md:1,lg:1,xl:1}},[e("el-row",[e("div",{staticClass:"buttonAI",on:{click:t.clickBtnStore}},[e("el-avatar",{attrs:{size:40,src:t.img_Store}})],1)])],1)],1),e("el-dialog",{attrs:{title:"完成信息",visible:t.dialogForm4Visible},on:{"update:visible":function(e){t.dialogForm4Visible=e}}},[e("p",[t._v("您完成教案所耗费的时间为："+t._s(t.timeGo)+",总的教案字数为："+t._s(t.lessonSum))]),e("p",[t._v("接下来，请填写一份针对于该实验条件下的调查问卷。")]),e("p",[t._v("填写网址："),e("a",{attrs:{href:"https://www.wjx.cn/vm/OPGQFi9.aspx",target:"_blank"}},[t._v("实验条件3 调查问卷")])]),e("p"),e("p",[t._v("填写完毕后，请点击回到实验任务首页:")]),e("el-button",{on:{click:t.backToSum}},[t._v("实验任务首页")])],1)],1)},we=[];function ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function Ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(n),!0).forEach((function(e){Object(ut["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Te,Ie={name:"MyEditor",components:{Editor:bt["a"],Toolbar:bt["b"]},computed:Ce({},Object(xt["a"])({LesInfo:function(t){return t.Lesson.LesInfo},Les:function(t){return t.Lesson.Les}})),data:function(){return{matchT:"",headerContainer:"",outputList:[],input:"",output:"",output1:"",outcome:"",come:"",AIVisual:!1,VoiceClick:!1,PromptStoreVisual:!1,voice:"",selectStr:"",inputMessage:"",tip:"请输入内容",tipAdress:{},img_AI:ht.a,img_MY:pt.a,img_Store:gt.a,messages:[{sender:"AI",content:["","您好呀，我是教案AI助手。您想生成的教案的基本信息为：<br>一年级 小学 语文 《识字-金木水火土》 "]},{sender:"MY",content:"你好呀"}],editor:null,html:"",toolbarConfig:{excludeKeys:["blockquote","group-more-style","insertLink","group-video","fullScreen"]},editorConfig:{placeholder:"这里显示教案内容...",scroll:!0,hoverbarKeys:{text:{menuKeys:["headerSelect","bold","underline","italic","|","fontSize","fontFamily"]}},MENU_CONF:{}},options4:[],options3:[],value9:[],list:["AA"],loading:!1,selectedState:"",states:[{name:"",intro:"",proce:[]},{name:"探究式教学",intro:"探究式教学以问题解决为中心的，注重学生的独立活动，注重体验式教学，着眼于学生的思维能力的培养。",proce:["一、情境创设，课程导入","二、分析问题，明确目标","三、动手实践，探究新知","四、课堂总结，建构概念","五、知识巩固，迁移应用"]},{name:"讲授式教学",intro:"该模式以传授系统知识、培养基本技能为目标。其着眼点在于充分挖掘人的记忆力、推理能力与间接经验在掌握知识方面的作用，使学生比较快速有效地掌握更多的信息量。",proce:["一、导入新课","二、检查复习","三、讲授新课","四、巩固新课","五、课堂总结","六、布置作业"]},{name:"协作式教学",intro:"协作式教学模式是一种强调学生互相合作、参与和共同构建知识的教学方法。它强调学生在教学过程中的积极参与和合作，促进他们的自主学习和批判性思维能力的培养。",proce:["一、课程导入，明确主题","二、围绕主题，明确问题","三、小组协作，解决问题","四、成果展示，交流汇报","五、总结评价，优化方案"]},{name:"讲座式教学",intro:"对于相对独立或者前沿的教学内容，通过讲座的形式，教师或学生做主题发言，然后集体讨论探讨，让学生通过自学解决自己所能解决的问题，而把教师的主要精力用于指导学生的学习方法，解决教学中的重点、难点，既能加深对学习主题的理解，又扩充了学生学习的知识领域。",proce:["一、教师分组，确定讲座主题","二、小组分工，协作准备","三、举行专题讲座","四、提问答疑","五、提交讲稿、报告"]},{name:"情景式教学",intro:"应用情境教学法，设置与教学内容相关的情境，将教学内容理论知识和实践技能结合起来，模拟真实场景，通过学生间相互合作和协调，使学生真正成为课堂教学中的主体和自我发展的主体，从而科学有效地解决综合性实验教学中的问题，为理论教学和实践教学的结合提供良好的平台。",proce:["一、设置问题情境，确立实验项目","二、小组分配","三、查找资料","四、设计实验方案","五、体验模拟","六、教师点评","七、提交体验报告"]},{name:"研究式教学",intro:"在教学的过程中，教师把研究的项目及方向和教学课程相结合，在教师的指导下，通过阅读文献或课题研究，在学习中研究、在研究中学习，遇到了问题深入分析研究，用已有知识学习求解问题所需要的知识，使学习和研究成为一个互动的过程。在研讨中积累知识、培养能力和锻炼思维。",proce:["一、教师提出课题","二、小组分工，协作准备","三、深入研究","四、集体研讨","五、完成报告","六、评价"]},{name:"语文阅读课教学",intro:"语文阅读课教学模式旨在通过创设情境、课文品读、拓展阅读、知识应用和评价反馈等环节，培养学生的阅读能力、理解能力和写作能力。通过引发学生的兴趣，帮助他们深入理解课文内容，扩展知识面并将所学知识应用到写作中，该教学模式能够全面发展学生的语文素养。",proce:["一、创设情境，激发兴趣","二、课文品读，感受新知","三、拓展阅读，知识延伸","四、知识应用，写作训练","五、评价反馈，修正完善"]},{name:"古诗阅读教学模式",intro:"该模式注重学生对古诗的感知和体验，通过扩展阅读和对照比较，学生能够进一步拓展对古诗的感知和体验，从而更好地欣赏和理解古诗的美。",proce:["一、熟知诗人，明晓题意","二、理解诗意，体会诗情","三、扩展阅读，知识迁移","四、对照比较，知识总结"]}],startTime:null,timerId:null,elapsedTime:"00:00:00",timeGo:"00:00:00",isTimerRunning:!1,editorChange:{height:"85vh",overflowY:"auto"},lessonSum:0,teachInfo:[],teachStru:[],dialogForm4Visible:!1,order:"",user_name:"",radio:"",teachmode:[],tab:0,obj:""}},watch:{output:function(){this.html="<p>".concat(this.output,"</p>")},input:function(){this.inputMessage="".concat(this.input)},outcome:function(){this.come=this.outcome}},mounted:function(){var t=this;this.user_name=sessionStorage.getItem("user_name"),console.log("我在这里："+this.user_name),this.getLessonInfo(),this.lessonGemStream(),this.getLessonPlanName(),this.startTimer(),this.headerContainer=document.getElementById("header-container"),this.headerContainer.addEventListener("mousedown",(function(e){if("LI"===e.target.tagName){e.preventDefault();var n=e.target.id;console.log(n),t.editor.scrollToElem(n)}})),this.clickBtnStore(),this.dragControllerDiv()},created:function(){},methods:{backToSum:function(){this.$router.push("/studySum"),console.log("click me")},getIntroByName:function(t){var e=this.states.find((function(e){return e.name===t}));return e?e.intro:"未找到介绍"},getProceByName:function(t){var e=this.states.find((function(e){return e.name===t}));return e?e.proce:[]},getLessonInfo:function(){this.teachInfo=this.$route.params.teachInfo,this.lessonName=this.teachInfo[this.teachInfo.length-1],this.teachStru=this.$route.params.teachStru,this.order=this.$route.params.order,this.radio=this.$route.params.radio,console.log("radio传:"+this.radio);var t=this.$route.params.tab;console.log("tab:"+t),"1"==t?(console.log("tab 1 freeMode传:"+this.$route.params.freemode),this.teachmode=Object(Lt["a"])(this.$route.params.freemode),this.states[parseInt(t)-1].proce=Object(Lt["a"])(this.teachmode),console.log("tab 1 this.teachmode:"+this.teachmode),console.log("tab 1 this.states[parseInt(tab)-1].proce:"+this.states[parseInt(t)-1].proce)):(this.tab=parseInt(t)-1,this.teachmode=Object(Lt["a"])(this.states[this.tab].proce),console.log("tab this.teachmode:"+this.teachmode)),console.log("me"+this.order),this.output="<h1>".concat(this.lessonName,"</h1><br>")},lessonGemStream:function(){var t=this.teachStru.length;this.main(t)},getLessonPlanName:function(){this.matchT=this.$route.params.matchTheme,this.startTime=this.$route.params.startTime,this.options4=["1-您在此实验中被分配的教案任务为:".concat(this.matchT),"2-在此实验中，希望您能优化这份生成的教案，除了我们提供的参考资料，请不要访问其他资料网站工具。","3-点击完成实验 按钮之后，结束此次教案设计。"],console.log(this.$route.params.matchTheme)},startTimer:function(){var t=this;this.isTimerRunning||(this.timerId=setInterval((function(){t.updateElapsedTime()}),1e3),this.isTimerRunning=!0)},updateElapsedTime:function(){var t=new Date,e=t-this.startTime,n=Math.floor(e/36e5),s=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);this.elapsedTime="".concat(String(n).padStart(2,"0"),":").concat(String(s).padStart(2,"0"),":").concat(String(a).padStart(2,"0"))},saveedu:function(){var t=this;"00:00:00"==this.timeGo&&(this.timeGo=this.elapsedTime),this.dialogForm4Visible=!0,T(this.user_name,"".concat(this.order)).then((function(e){t.$message({message:"成功！",type:"success"})})).catch((function(t){console.error("Error:",t)})),O("实验3",this.user_name,this.radio,this.timeGo,this.lessonSum,this.html).then((function(e){t.$message({message:"成功！",type:"success"})})).catch((function(t){console.error("Error:",t)}))},dragControllerDiv:function(){var t=document.getElementsByClassName("resize"),e=document.getElementsByClassName("left"),n=document.getElementsByClassName("mid"),s=document.getElementsByClassName("box"),a=document.getElementsByClassName("col01");t[0].onmousedown=function(i){t[0].style.background="#818181";var o=i.clientX-a[0].offsetWidth;return t[0].left=t[0].offsetLeft,document.onmousemove=function(i){var r=i.clientX-a[0].offsetWidth,l=t[0].left+(r-o)-a[0].offsetWidth,c=s[0].clientWidth-t[0].offsetWidth;l<32&&(l=32),l>c-150&&(l=c-150),t[0].style.left=l,e[0].style.width=l+"px",n[0].style.width=s[0].clientWidth-l-10+"px"},document.onmouseup=function(e){t[0].style.background="#d6d6d6",document.onmousemove=null,document.onmouseup=null,t[0].releasePointerCapture&&t[0].releasePointerCapture(1)},t[0].setPointerCapture&&t[0].setPointerCapture(1),!1}},sendMessage:function(){this.outcome="",this.inputMessage.trim()&&(this.messages.push({sender:"MY",content:this.inputMessage}),this.generateTextStreamToParagraph())},updateMessage:function(){this.outcome="",this.generateTextStreamToParagraph()},clickBtnAI:function(){document.getElementsByClassName("resize");var t=document.getElementsByClassName("left"),e=document.getElementsByClassName("mid");this.AIVisual?(this.AIVisual=!1,e[0].style.width="0%",t[0].style.width="100%"):(this.AIVisual=!0,t[0].style.width="68%",e[0].style.width="calc(32% - 10px)")},clickBtnStore:function(){document.getElementsByClassName("resize");var t=document.getElementsByClassName("left"),e=document.getElementsByClassName("mid");this.PromptStoreVisual?(this.PromptStoreVisual=!1,e[0].style.width="0%",t[0].style.width="100%"):(this.PromptStoreVisual=!0,t[0].style.width="68%",e[0].style.width="calc(32% - 10px)")},startVoice:function(){this.VoiceClick?(console.log("正在暂停倾听你的声音中..."),this.voice.stop(),this.VoiceClick=!1):(console.log("正在听取你的声音中..."),this.voice.start(),this.VoiceClick=!0)},onCreated:function(t){this.editor=Object.seal(t)},insertNewNode:function(t){var e={type:"header3",children:[{text:"".concat(t)}]};this.editor.insertNode(e)},selectInsert:function(t){this.editor.select(this.tipAdress),this.editor.dangerouslyInsertHtml(t)},handleEnter:function(){},onChange:function(t){null!=t.selection&&(this.tipAdress=t.selection),t.select(this.tipAdress),this.tip='更改文本" '+t.getSelectionText().toString().substring(0,60)+'"',this.selectStr=t.getSelectionText();var e=document.getElementById("header-container"),n=t.getElemsByTypePrefix("header");e.innerHTML=n.map((function(t){var e=vt["c"].string(t),n=t.id,s=t.type;return'<li id="'.concat(n,'" type="').concat(s,'" style=\'padding: 10px 0px;color: #33081b;cursor: pointer;border: #bfbfbf 1px solid;border-radius: 0.3125rem;font-size:13px;\'><i class="el-icon-menu" style="margin-right:5px;"></i>').concat(e,"</li>")})).join("");var s=t.getText();this.lessonSum=s.length},getEditorText:function(){this.editor},printEditorHtml:function(){this.editor},main:function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e)){t.next=7;break}return t.next=4,this.generateTextStream(n);case 4:n++,t.next=1;break;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),lessonGemStreamButton:function(){this.lessonGemStream()},generateTextStream:function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(e){var n,s,a,i,o,r,l,c,u,d,h,m,p,f,g,b,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="你是一个资深且专业的教师。现在根据提供的教学信息，设计一份优质的教案。\n\t\t\t\t课程信息：".concat(this.teachInfo,"\n\t\t\t\t教学结构：").concat(this.teachStru,"\n\t\t\t\t教学模式：").concat(this.states[this.tab].name,"\n\t\t\t\t"),s="请你运用你的专业知识，输出 ".concat(this.teachStru[e],",输出格式为：\n\t\t\t\t<h3>").concat(this.teachStru[e],"</h3><p>").concat(this.teachStru[e],"的内容</p>"),""!=this.obj&&(s=s+"<br>"+this.obj,console.log(s)),e==this.teachStru.length-1&&(s="教学环节:".concat(this.teachmode,"\n\t\t\t\t请注意，你要遵循我以下要求：\n\t\t\t\t1-教学过程要与教学环节相对应;\n\t\t\t\t2-要求教学环节包含老师的知识点讲解、学生的具体反应、教师与学生的互动过程。\n\t\t\t\t经过您深思熟虑的思考之后，并且运用你的专业知识以及以上教学信息，设计详细的 ").concat(this.teachStru[e],",输出格式为html。\n\t\t\t\t<h3>").concat(this.teachStru[e],"</h3><p>教学环节一：教师：xxx；学生：xxx；设计意图：xxx；教师：xxx；学生：xxx；设计意图：xxx；教学环节二：xxx</p>")),a="cfcea42fdab447bd8907728beaa56417","",i="",o="https://team3-at-2.openai.azure.com/openai/deployments/GPT35/chat/completions?api-version=2023-03-15-preview",t.next=10,fetch(o,{method:"POST",body:JSON.stringify({max_tokens:3e3,n:1,temperature:.5,frequency_penalty:0,presence_penalty:0,top_p:.95,stop:null,stream:!0,messages:[{role:"system",content:n},{role:"user",content:s}]}),headers:{"api-key":a,"Content-Type":"application/json"}});case 10:r=t.sent,l=new TextDecoder("utf-8"),c=r.body.getReader();case 13:return t.next=16,c.read();case 16:if(u=t.sent,d=u.done,h=u.value,!d){t.next=21;break}return t.abrupt("break",46);case 21:m=l.decode(h),p=m.split("data:"),f=p.slice(1),e=0,g=f.length;case 25:if(!(e<g)){t.next=40;break}if(f[e]=f[e].replace("\n\n",""),f[e].includes("[DONE]")){t.next=37;break}if(!f[e]){t.next=37;break}if(b=JSON.parse(f[e]),!b["choices"][0]["delta"]){t.next=37;break}if("<ERR>"!==m){t.next=36;break}return"Error",t.abrupt("break",40);case 36:b["choices"][0]["delta"]["content"]&&(i+=b["choices"][0]["delta"]["content"]);case 37:e++,t.next=25;break;case 40:this.outputList.push(i),this.output+=i.replace("<br>",""),i="",0==e&&(this.obj=this.output),t.next=13;break;case 46:return v=e,t.abrupt("return",v);case 48:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),generateTextStreamToParagraph:function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(){var e,n,s,a,i,o,r,l,c,u,d,h,m,p,f,g,b,v,y;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.outcome="",e=this.selectStr,n="你是一个专业的教学设计机器人。我的教案主题是 识字-金木水火土 一年级 小学 语文 。",s="",s=""==e?"".concat(this.inputMessage,"."):"我的教案主题是 识字-金木水火土 一年级 小学 语文 。我选中的一段话是".concat(e,".修改要求是").concat(this.inputMessage,".请你根据我提出的需求和教案主题修改我选中的一段话，输出修改的内容即可，无需其他话语。让我们一步一步思考，确保得出正确的结论"),a="cfcea42fdab447bd8907728beaa56417","",i="",o="https://team3-at-2.openai.azure.com/openai/deployments/GPT35/chat/completions?api-version=2023-03-15-preview",t.next=11,fetch(o,{method:"POST",body:JSON.stringify({max_tokens:3e3,n:1,temperature:.5,frequency_penalty:0,presence_penalty:0,top_p:.95,stop:null,stream:!0,messages:[{role:"system",content:n},{role:"user",content:s}]}),headers:{"api-key":a,"Content-Type":"application/json"}});case 11:r=t.sent,l=new TextDecoder("utf-8"),c=r.body.getReader();case 14:return t.next=17,c.read();case 17:if(u=t.sent,d=u.done,h=u.value,!d){t.next=22;break}return t.abrupt("break",44);case 22:m=l.decode(h),p=m.split("data:"),f=p.slice(1),g=0,b=f.length;case 26:if(!(g<b)){t.next=39;break}if(f[g]=f[g].replace("\n\n",""),f[g].includes("[DONE]")){t.next=36;break}if(!JSON.parse(f[g])["choices"][0]["delta"]["content"]){t.next=36;break}if("<ERR>"!==m){t.next=35;break}return"Error",t.abrupt("break",39);case 35:i+=JSON.parse(f[g])["choices"][0]["delta"]["content"];case 36:g++,t.next=26;break;case 39:this.outputList.push(i),this.outcome+=i.replace(/\n/g,""),i="",t.next=14;break;case 44:v=this.messages.length,y=this.messages[v-1],"AI"==y.sender?(this.messages.pop(),this.messages.push({sender:"AI",content:[this.selectStr,this.outcome]})):this.messages.push({sender:"AI",content:[this.selectStr,this.outcome]});case 47:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),remoteMethod:function(t){var e=this;""!==t?(this.loading=!0,setTimeout((function(){e.loading=!1,e.options4=e.list.filter((function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1}))}),200)):this.options4=[]},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)},selectNav:function(t,e){console.log(t,e)},convertToword:function(){var t="".concat(this.LesInfo.lname,".docx");console.log("这里是触发了convertToword函数，word名称为："+this.LesInfo.lname);var e='\n\t\t\t\t    <!DOCTYPE html>\n\t\t\t\t    <html>\n\t\t\t\t      <head>\n\t\t\t\t        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n\t\t\t\t      </head>\n\t\t\t\t      <body>\n\t\t\t\t        '.concat(this.html,"\n\t\t\t\t      </body>\n\t\t\t\t    </html>\n\t\t\t\t  "),n=htmlDocx.asBlob(e);FileSaver.saveAs(n,t)},changeStyleCom:function(){this.editorChange.height="100%",this.editorChange.overflowY="vislble"},convertToPdf:function(){this.changeStyleCom(),htmlToPdf.getPdf("".concat(this.LesInfo.lname)),this.editorChange.height="85vh",this.editorChange.overflowY="auto"}},beforeDestroy:function(){var t=this.editor;null!=t&&t.destroy()}},Oe=Ie,Ne=(n("c3d5"),Object(B["a"])(Oe,_e,we,!1,null,"cf7cbfba",null)),Ee=Ne.exports,Pe=function(){var t=this,e=t._self._c;return e("div",[e("el-row",{staticStyle:{width:"100%",padding:"0.75rem 0",display:"flex","justify-content":"space-between","align-items":"center"}},[e("el-col",{staticStyle:{"text-align":"left","margin-left":"1.875rem"},attrs:{span:8}},[e("p",[e("el-button",{attrs:{type:"primary"}},[t._v("实验条件4：智能教案生成+AI教案助手")])],1),e("p",[e("el-tag",{attrs:{type:"warning"}},[t._v("实验任务详细介绍在最右侧第二个蓝色图标")])],1)]),e("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[e("el-button",[t._v("经历时间："+t._s(t.elapsedTime))])],1),e("el-col",{staticStyle:{"text-align":"right","margin-right":"0.875rem"},attrs:{span:8}},[e("el-button",{attrs:{icon:"el-icon-coin"},on:{click:function(e){return t.saveedu()}}},[t._v("完成")]),e("el-button",{attrs:{icon:"el-icon-user",circle:""}})],1)],1),e("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-between"}},[e("el-col",{staticClass:"col01",attrs:{sm:1,md:3,lg:3,xl:3}}),e("el-col",{attrs:{sm:22,md:20,lg:20,xl:20}},[e("div",{ref:"box",staticClass:"box"},[e("div",{staticClass:"left"},[e("div",[e("Toolbar",{attrs:{editor:t.editor,defaultConfig:t.toolbarConfig}}),e("Editor",{directives:[{name:"katex",rawName:"v-katex:auto",arg:"auto"}],style:t.editorChange,attrs:{id:"content",defaultConfig:t.editorConfig},on:{onChange:t.onChange,onCreated:t.onCreated},model:{value:t.html,callback:function(e){t.html=e},expression:"html"}}),e("div",{staticStyle:{width:"180px",position:"absolute",left:"0",top:"30%"}},[e("ul",{attrs:{id:"header-container"}})])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.AIVisual||t.PromptStoreVisual,expression:"AIVisual||PromptStoreVisual"}],staticClass:"resize",attrs:{title:"收缩侧边栏"}},[t._v("\n\t\t\t\t\t⋮\n\t\t\t\t")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.AIVisual,expression:"AIVisual"}],staticClass:"mid"},[e("div",[e("el-container",[e("el-header",[e("el-button",{staticClass:"title",attrs:{type:"primary",round:"",size:"small"}},[t._v("教案AI助手")])],1),e("el-main",[e("el-scrollbar",{ref:"scrollMenuRes",attrs:{"wrap-class":"message-list","wrap-style":"height:30rem;"}},t._l(t.messages,(function(n,s){return e("div",{key:s,class:{"message-item-AI":"AI"==n.sender,"animate__animated animate__fadeInUp":!0,"message-item-MY":"MY"==n.sender}},["AI"==n.sender?e("div",{staticStyle:{float:"left","margin-right":"0.4rem"}},[e("el-avatar",{attrs:{size:40,src:t.img_AI}})],1):t._e(),e("div",["MY"==n.sender?e("p",[t._v(" "+t._s(n.content))]):t._e(),"AI"==n.sender?e("div",{staticStyle:{overflow:"hidden","padding-top":"3px"}},[""!=n.content[0]?e("div",{staticClass:"btn_p_nob"},[t._v("原来的文本:"),e("br"),e("p",{staticClass:"btn_p",on:{click:function(e){return t.selectInsert(n.content[0])}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(n.content[0])+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),e("br"),t._v("生成的文本:\n\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),e("div",{class:{btn_p:""!=n.content[0]}},[e("p",{directives:[{name:"katex",rawName:"v-katex:auto",arg:"auto"}],domProps:{innerHTML:t._s(n.content[1])},on:{click:function(e){return t.selectInsert(n.content[1])}}}),""!=n.content[0]?e("i",{staticClass:"el-icon-refresh",on:{click:t.updateMessage}}):t._e(),0!=s?e("el-rate",{staticStyle:{width:"180px"},attrs:{"show-text":"",colors:["#99A9BF","#a0cff7","#3a93ff"]},on:{change:function(e){return t.handleTime(n.rate,s)}},model:{value:n.rate,callback:function(e){t.$set(n,"rate",e)},expression:"message.rate"}}):t._e()],1)]):t._e()]),"MY"==n.sender?e("div",{staticStyle:{float:"right","margin-left":"0.3125rem"}},[e("el-avatar",{attrs:{size:40,src:t.img_MY}})],1):t._e()])})),0)],1),e("el-footer",[e("div",{staticClass:"footer-left"},[e("el-input",{attrs:{placeholder:t.tip,rows:4,type:"textarea",id:"voiceTxt"},model:{value:t.inputMessage,callback:function(e){t.inputMessage=e},expression:"inputMessage"}})],1),e("div",{staticClass:"footer-right"},[e("el-row",[e("el-popover",{attrs:{placement:"right",trigger:"hover"}},[e("el-button",{staticStyle:{border:"0px"},attrs:{slot:"reference",size:"small"},slot:"reference"})],1)],1),e("el-row"),e("el-row",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"发送",placement:"right"}},[e("el-button",{staticClass:"el-icon-s-promotion",attrs:{circle:"",size:"small"},on:{click:t.sendMessage}})],1)],1)],1)])],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.PromptStoreVisual,expression:"PromptStoreVisual"}],staticClass:"mid1"},[e("el-header",[e("el-button",{staticClass:"title",attrs:{type:"primary",round:"",size:"small"}},[t._v("任务步骤")])],1),e("el-scrollbar",{attrs:{"wrap-class":"message-list","wrap-style":"margin-top:20px;padding-left:20px;"}},t._l(t.options4,(function(n,s){return e("div",{key:s,staticStyle:{"margin-top":"10px"}},[e("p",{staticClass:"prom"},[t._v(" "+t._s(n))])])})),0),e("el-header",[e("el-button",{staticClass:"title",attrs:{type:"primary",round:"",size:"small"}},[t._v("教学模式")])],1),e("el-select",{attrs:{placeholder:"请选择教学模式"},model:{value:t.selectedState,callback:function(e){t.selectedState=e},expression:"selectedState"}},t._l(t.states,(function(t){return e("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})),1),t.selectedState?e("div",{staticClass:"prom",staticStyle:{margin:"0.5rem 1.2rem"}},[e("p",[t._v(t._s(t.getIntroByName(t.selectedState)))]),e("p",[t._v("教学环节：")]),t._l(t.getProceByName(t.selectedState),(function(n,s){return e("p",{key:s},[t._v(t._s(n))])}))],2):t._e()],1)])]),e("el-col",{staticClass:"bg-right",attrs:{sm:1,md:1,lg:1,xl:1}},[e("el-row",[e("div",{staticClass:"buttonAI",on:{click:t.clickBtnAI}},[e("el-avatar",{attrs:{size:40,src:t.img_AI}})],1),e("div",{staticClass:"buttonAI",on:{click:t.clickBtnStore}},[e("el-avatar",{attrs:{size:40,src:t.img_Store}})],1)])],1)],1),e("el-dialog",{attrs:{title:"完成信息",visible:t.dialogForm4Visible},on:{"update:visible":function(e){t.dialogForm4Visible=e}}},[e("p",[t._v("您完成教案所耗费的时间为："+t._s(t.timeGo)+",总的教案字数为："+t._s(t.lessonSum))]),e("p",[t._v("接下来，请填写一份针对于该实验条件下的调查问卷。")]),e("p",[t._v("填写网址："),e("a",{attrs:{href:"https://www.wjx.cn/vm/tLD0HD4.aspx",target:"_blank"}},[t._v("实验条件4 调查问卷")])]),e("p"),e("p",[t._v("填写完毕后，请点击回到实验任务首页:")]),e("el-button",{on:{click:t.backToSum}},[t._v("实验任务首页")])],1)],1)},Me=[];function je(t,e,n){return e=Object(lt["a"])(e),Object(rt["a"])(t,Be()?Reflect.construct(e,n||[],Object(lt["a"])(t).constructor):e.apply(t,n))}function Be(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Be=function(){return!!t})()}var Ae={name:"MyEditor",components:{Editor:bt["a"],Toolbar:bt["b"]},computed:{},data:function(){return{dialogForm4Visible:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px",rate:null,headerContainer:"",outputList:[],input:"",output:"",output1:"",outcome:"",come:"",AIVisual:!1,VoiceClick:!1,PromptStoreVisual:!1,voice:"",selectStr:"",inputMessage:"",tip:"请输入内容",tipAdress:{},img_AI:ht.a,img_MY:pt.a,img_Store:gt.a,messages:[],editor:null,html:"",toolbarConfig:{excludeKeys:["blockquote","group-more-style","insertLink","group-video","fullScreen"]},editorConfig:{placeholder:"这里显示教案内容...",scroll:!0,hoverbarKeys:{text:{menuKeys:["MyButtonMenu","|","headerSelect","bold","underline","italic","|","fontSize","fontFamily"]}},MENU_CONF:{}},options4:[],options3:[],value9:[],list:["AA"],loading:!1,selectedState:"",states:[{name:"自定义教学",intro:"",proce:[]},{name:"探究式教学",intro:"探究式教学以问题解决为中心的，注重学生的独立活动，注重体验式教学，着眼于学生的思维能力的培养。",proce:["一、情境创设，课程导入","二、分析问题，明确目标","三、动手实践，探究新知","四、课堂总结，建构概念","五、知识巩固，迁移应用"]},{name:"讲授式教学",intro:"该模式以传授系统知识、培养基本技能为目标。其着眼点在于充分挖掘人的记忆力、推理能力与间接经验在掌握知识方面的作用，使学生比较快速有效地掌握更多的信息量。",proce:["一、导入新课","二、检查复习","三、讲授新课","四、巩固新课","五、课堂总结","六、布置作业"]},{name:"协作式教学",intro:"协作式教学模式是一种强调学生互相合作、参与和共同构建知识的教学方法。它强调学生在教学过程中的积极参与和合作，促进他们的自主学习和批判性思维能力的培养。",proce:["一、课程导入，明确主题","二、围绕主题，明确问题","三、小组协作，解决问题","四、成果展示，交流汇报","五、总结评价，优化方案"]},{name:"讲座式教学",intro:"对于相对独立或者前沿的教学内容，通过讲座的形式，教师或学生做主题发言，然后集体讨论探讨，让学生通过自学解决自己所能解决的问题，而把教师的主要精力用于指导学生的学习方法，解决教学中的重点、难点，既能加深对学习主题的理解，又扩充了学生学习的知识领域。",proce:["一、教师分组，确定讲座主题","二、小组分工，协作准备","三、举行专题讲座","四、提问答疑","五、提交讲稿、报告"]},{name:"情景式教学",intro:"应用情境教学法，设置与教学内容相关的情境，将教学内容理论知识和实践技能结合起来，模拟真实场景，通过学生间相互合作和协调，使学生真正成为课堂教学中的主体和自我发展的主体，从而科学有效地解决综合性实验教学中的问题，为理论教学和实践教学的结合提供良好的平台。",proce:["一、设置问题情境，确立实验项目","二、小组分配","三、查找资料","四、设计实验方案","五、体验模拟","六、教师点评","七、提交体验报告"]},{name:"研究式教学",intro:"在教学的过程中，教师把研究的项目及方向和教学课程相结合，在教师的指导下，通过阅读文献或课题研究，在学习中研究、在研究中学习，遇到了问题深入分析研究，用已有知识学习求解问题所需要的知识，使学习和研究成为一个互动的过程。在研讨中积累知识、培养能力和锻炼思维。",proce:["一、教师提出课题","二、小组分工，协作准备","三、深入研究","四、集体研讨","五、完成报告","六、评价"]},{name:"语文阅读课教学",intro:"语文阅读课教学模式旨在通过创设情境、课文品读、拓展阅读、知识应用和评价反馈等环节，培养学生的阅读能力、理解能力和写作能力。通过引发学生的兴趣，帮助他们深入理解课文内容，扩展知识面并将所学知识应用到写作中，该教学模式能够全面发展学生的语文素养。",proce:["一、创设情境，激发兴趣","二、课文品读，感受新知","三、拓展阅读，知识延伸","四、知识应用，写作训练","五、评价反馈，修正完善"]},{name:"古诗阅读教学模式",intro:"该模式注重学生对古诗的感知和体验，通过扩展阅读和对照比较，学生能够进一步拓展对古诗的感知和体验，从而更好地欣赏和理解古诗的美。",proce:["一、熟知诗人，明晓题意","二、理解诗意，体会诗情","三、扩展阅读，知识迁移","四、对照比较，知识总结"]}],editorChange:{height:"85vh",overflowY:"auto"},startTime:null,timerId:null,elapsedTime:"00:00:00",isTimerRunning:!1,timeGo:"00:00:00",lessonSum:0,smallTime:0,rateTime:0,teachInfo:[],teachStru:[],order:"",user_name:"",radio:"",matchT:"",teachmode:[],tab:0,obj:""}},watch:{output:function(){this.html="<p>".concat(this.output,"</p>")},input:function(){this.inputMessage="".concat(this.input)},outcome:function(){this.come=this.outcome}},mounted:function(){var t=this;this.user_name=sessionStorage.getItem("user_name"),console.log("我在这里："+this.user_name),this.getLessonInfo(),this.getLessonPlanName(),this.lessonGemStream(),this.startTimer(),this.headerContainer=document.getElementById("header-container"),this.headerContainer.addEventListener("mousedown",(function(e){if("LI"===e.target.tagName){e.preventDefault();var n=e.target.id;console.log(n),t.editor.scrollToElem(n)}})),this.list=this.states.map((function(t){return{value:t,label:t}})),this.clickBtnStore(),this.dragControllerDiv();var e=this,n=function(t){function n(){return Object(it["a"])(this,n),je(this,n,arguments)}return Object(ct["a"])(n,t),Object(ot["a"])(n,[{key:"exec",value:function(t,n){e.clickBtnAI()}}])}(yt),s={key:"MyButtonMenu",factory:function(){return new n}},a={menus:[s]};vt["a"].registerModule(a)},created:function(){},methods:(Te={backToSum:function(){this.$router.push("/studySum"),console.log("click me")},getIntroByName:function(t){var e=this.states.find((function(e){return e.name===t}));return e?e.intro:"未找到介绍"},getProceByName:function(t){var e=this.states.find((function(e){return e.name===t}));return e?e.proce:[]},getLessonInfo:function(){this.teachInfo=this.$route.params.teachInfo,console.log(this.teachInfo),this.lessonName=this.teachInfo[this.teachInfo.length-1],this.teachStru=this.$route.params.teachStru;var t=this.$route.params.tab;"4"==t?(this.teachmode=Object(Lt["a"])(this.$route.params.freemode),this.states[parseInt(t)-1].proce=Object(Lt["a"])(this.teachmode)):(this.tab=parseInt(t)-1,this.teachmode=Object(Lt["a"])(this.states[this.tab].proce)),console.log(this.states[parseInt(t)-1]),this.output="<h1>".concat(this.lessonName,"</h1><br>"),this.messages.push({sender:"AI",content:["","您好呀，我是教案AI助手。您想生成的教案的基本信息为：<br>".concat(this.teachInfo," ")],rate:"",time:""})},lessonGemStream:function(){this.prompt="你是一个资深且专业的教学设计机器人。请你根据我提供的教学信息，设计一份优质的教案。\n\t\t\t\t课程信息：".concat(this.teachInfo,"\n\t\t\t    授课模式：练习课\n\t\t\t    教学结构：").concat(this.teachStru,"\n\t\t\t    教学模式：探究式教学\n\t\t\t\t输出格式：html");var t=this.teachStru.length;this.main(t)},handleTime:function(t,e){var n=this;this.messages[e].rate=t,this.messages[e].time=new Date;var s=new Date-this.messages[e].aitime;this.messages[e].dtime=s/1e3;var a=this.messages[e].time,i=a.getHours().toString().padStart(2,"0"),o=a.getMinutes().toString().padStart(2,"0"),r=a.getSeconds().toString().padStart(2,"0"),l=a.getMilliseconds();l<10?l="0000"+l:l<100?l="000"+l:l<1e3?l="00"+l:l<1e4&&(l="0"+l);var c="".concat(i,":").concat(o,":").concat(r,".").concat(l),u=this.messages[e].aitime,d=(u.getHours().toString().padStart(2,"0"),u.getMinutes().toString().padStart(2,"0"),u.getSeconds().toString().padStart(2,"0"),u.getMilliseconds());d<10?d="0000"+d:d<100?d="000"+d:d<1e3?d="00"+d:d<1e4&&(d="0"+d);var h="".concat(i,":").concat(o,":").concat(r,".").concat(l);E("AI",this.user_name,this.messages[e].content[0],this.messages[e].content[1],h,"",this.messages[e].dtime,this.messages[e].rate,c).then((function(t){n.$message({message:"inserthistoryaia ai成功！",type:"success"})})).catch((function(t){console.error("Error:",t)}))},getLessonPlanName:function(){this.matchT=this.$route.params.matchTheme,this.startTime=this.$route.params.startTime,this.order=this.$route.params.order,this.radio=this.$route.params.radio,this.options4=["1-您在此实验条件中被分配的教案任务为:".concat(this.matchT),"2-在此实验条件中，希望您能至少一次通过教案设计助手优化这份生成的教案。","3-点击完成 按钮之后，结束此次教案设计。"],console.log("me"+this.matchT)},startTimer:function(){var t=this;this.isTimerRunning||(this.timerId=setInterval((function(){t.updateElapsedTime()}),1e3),this.isTimerRunning=!0)},updateElapsedTime:function(){var t=new Date,e=t-this.startTime,n=Math.floor(e/36e5),s=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);this.elapsedTime="".concat(String(n).padStart(2,"0"),":").concat(String(s).padStart(2,"0"),":").concat(String(a).padStart(2,"0"))},saveedu:function(){var t=this;this.dialogForm4Visible=!0,this.timeGo=this.elapsedTime,T(this.user_name,"".concat(this.order)).then((function(e){t.$message({message:"成功！",type:"success"})})).catch((function(t){console.error("Error:",t)})),O("实验4",this.user_name,this.radio,this.timeGo,this.lessonSum,this.html).then((function(e){t.$message({message:"成功！",type:"success"})})).catch((function(t){console.error("Error:",t)}))},dragControllerDiv:function(){var t=document.getElementsByClassName("resize"),e=document.getElementsByClassName("left"),n=document.getElementsByClassName("mid"),s=document.getElementsByClassName("box"),a=document.getElementsByClassName("col01");t[0].onmousedown=function(i){t[0].style.background="#818181";var o=i.clientX-a[0].offsetWidth;return t[0].left=t[0].offsetLeft,document.onmousemove=function(i){var r=i.clientX-a[0].offsetWidth,l=t[0].left+(r-o)-a[0].offsetWidth,c=s[0].clientWidth-t[0].offsetWidth;l<32&&(l=32),l>c-150&&(l=c-150),t[0].style.left=l,e[0].style.width=l+"px",n[0].style.width=s[0].clientWidth-l-10+"px"},document.onmouseup=function(e){t[0].style.background="#d6d6d6",document.onmousemove=null,document.onmouseup=null,t[0].releasePointerCapture&&t[0].releasePointerCapture(1)},t[0].setPointerCapture&&t[0].setPointerCapture(1),!1}},sendMessage:function(){var t=this;this.outcome="";var e=document.querySelector("#voiceTxt");if(console.log("send:"+e.value),this.inputMessage=e.value,this.inputMessage.trim()){this.messages.push({sender:"MY",content:this.inputMessage});var n=new Date,s=n.getHours().toString().padStart(2,"0"),a=n.getMinutes().toString().padStart(2,"0"),i=n.getSeconds().toString().padStart(2,"0"),o=n.getMilliseconds();o<10?o="0000"+o:o<100?o="000"+o:o<1e3?o="00"+o:o<1e4&&(o="0"+o);var r="".concat(s,":").concat(a,":").concat(i,".").concat(o);E(this.user_name,"AI",this.selectStr,this.inputMessage,r,"","",0,r).then((function(e){t.$message({message:"inserthistoryaia 用户成功！",type:"success"})})).catch((function(t){console.error("Error:",t)})),this.generateTextStreamToParagraph()}},updateMessage:function(){this.outcome="",this.generateTextStreamToParagraph()},clickBtnAI:function(){document.getElementsByClassName("resize");var t=document.getElementsByClassName("left"),e=document.getElementsByClassName("mid");this.AIVisual?(this.AIVisual=!1,e[0].style.width="0%",t[0].style.width="100%"):(this.AIVisual=!0,this.PromptStoreVisual=!1,t[0].style.width="68%",e[0].style.width="calc(32% - 10px)")},clickBtnStore:function(){document.getElementsByClassName("resize");var t=document.getElementsByClassName("left"),e=document.getElementsByClassName("mid1");this.PromptStoreVisual?(this.PromptStoreVisual=!1,e[0].style.width="0%",t[0].style.width="100%"):(this.PromptStoreVisual=!0,this.AIVisual=!1,t[0].style.width="68%",e[0].style.width="calc(32% - 10px)")},startVoice:function(){this.VoiceClick?(console.log("正在暂停倾听你的声音中..."),this.voice.stop(),this.VoiceClick=!1):(console.log("正在听取你的声音中..."),this.voice.start(),this.VoiceClick=!0)},onCreated:function(t){this.editor=Object.seal(t)},insertNewNode:function(t){var e={type:"header3",children:[{text:"".concat(t)}]};this.editor.insertNode(e)},selectInsert:function(t){this.editor.select(this.tipAdress),this.editor.dangerouslyInsertHtml(t)},handleEnter:function(){},onChange:function(t){null!=t.selection&&(this.tipAdress=t.selection),t.select(this.tipAdress),this.tip='更改文本" '+t.getSelectionText().toString().substring(0,60)+'"',this.selectStr=t.getSelectionText();var e=document.getElementById("header-container"),n=t.getElemsByTypePrefix("header");e.innerHTML=n.map((function(t){var e=vt["c"].string(t),n=t.id,s=t.type;return'<li id="'.concat(n,'" type="').concat(s,'" style=\'padding: 10px 0px;color: #33081b;cursor: pointer;border: #bfbfbf 1px solid;border-radius: 0.3125rem;font-size:13px;\'><i class="el-icon-menu" style="margin-right:5px;"></i>').concat(e,"</li>")})).join("");var s=t.getText();this.lessonSum=s.length},getEditorText:function(){this.editor},printEditorHtml:function(){this.editor}},Object(ut["a"])(Object(ut["a"])(Object(ut["a"])(Object(ut["a"])(Object(ut["a"])(Object(ut["a"])(Object(ut["a"])(Object(ut["a"])(Object(ut["a"])(Object(ut["a"])(Te,"lessonGemStream",(function(){this.prompt="你是一个资深且专业的教学设计机器人。请你根据我提供的教学信息，设计一份优质的教案。\n\t\t\t\t课程信息：".concat(this.teachInfo,"\n\t\t\t    授课模式：练习课\n\t\t\t    教学结构：").concat(this.teachStru,"\n\t\t\t    教学模式：探究式教学\n\t\t\t\t输出格式：html");var t=this.teachStru.length;this.main(t)})),"main",function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e)){t.next=7;break}return t.next=4,this.generateTextStream(n);case 4:n++,t.next=1;break;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()),"generateTextStream",function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(e){var n,s,a,i,o,r,l,c,u,d,h,m,p,f,g,b,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="你是一个资深且专业的教师。现在根据提供的教学信息，设计一份优质的教案。\n\t\t\t\t课程信息：".concat(this.teachInfo,"\n\t\t\t\t教学结构：").concat(this.teachStru,"\n\t\t\t\t教学模式：").concat(this.states[this.tab].name,"\n\t\t\t\t"),s="请你运用你的专业知识，输出 ".concat(this.teachStru[e],",输出格式为：\n\t\t\t\t<h3>").concat(this.teachStru[e],"</h3><p>").concat(this.teachStru[e],"的内容</p>"),""!=this.obj&&(s=s+"<br>"+this.obj,console.log(s)),"教学过程"==this.teachStru[e]&&(s="教学环节:".concat(this.teachmode,"\n\t\t\t\t请注意，你要遵循我以下要求：\n\t\t\t\t1-教学过程要与教学环节相对应;\n\t\t\t\t2-要求教学环节包含老师的知识点讲解、学生的具体反应、教师与学生的互动过程。\n\t\t\t\t经过您深思熟虑的思考之后，并且运用你的专业知识以及以上教学信息，设计详细的 ").concat(this.teachStru[e],",输出格式为html。\n\t\t\t\t<h3>").concat(this.teachStru[e],"</h3><p>教学环节一：教师：xxx；学生：xxx；设计意图：xxx；教师：xxx；学生：xxx；设计意图：xxx；教学环节二：xxx</p>")),a="cfcea42fdab447bd8907728beaa56417","",i="",o="https://team3-at-2.openai.azure.com/openai/deployments/GPT35/chat/completions?api-version=2023-03-15-preview",t.next=10,fetch(o,{method:"POST",body:JSON.stringify({max_tokens:3e3,n:1,temperature:.5,frequency_penalty:0,presence_penalty:0,top_p:.95,stop:null,stream:!0,messages:[{role:"system",content:n},{role:"user",content:s}]}),headers:{"api-key":a,"Content-Type":"application/json"}});case 10:r=t.sent,l=new TextDecoder("utf-8"),c=r.body.getReader();case 13:return t.next=16,c.read();case 16:if(u=t.sent,d=u.done,h=u.value,!d){t.next=21;break}return t.abrupt("break",45);case 21:m=l.decode(h),p=m.split("data:"),f=p.slice(1),e=0,g=f.length;case 25:if(!(e<g)){t.next=40;break}if(f[e]=f[e].replace("\n\n",""),f[e].includes("[DONE]")){t.next=37;break}if(!f[e]){t.next=37;break}if(b=JSON.parse(f[e]),!b["choices"][0]["delta"]){t.next=37;break}if("<ERR>"!==m){t.next=36;break}return"Error",t.abrupt("break",40);case 36:b["choices"][0]["delta"]["content"]&&(i+=b["choices"][0]["delta"]["content"]);case 37:e++,t.next=25;break;case 40:this.outputList.push(i),this.output+=i.replace("<br>",""),i="",t.next=13;break;case 45:return v=e,t.abrupt("return",v);case 47:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()),"generateTextStreamToParagraph",function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(){var e,n,s,a,i,o,r,l,c,u,d,h,m,p,f,g,b,v,y,x;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.outcome="",e=this.selectStr,n=this.messages.length,s=this.messages[n-1],"AI"==s.sender?this.messages[this.messages.length-1].content[1]="":this.messages.push({sender:"AI",content:[e,""],rate:null,time:null,aitime:new Date,dtime:null}),a="你是一个专业的教学设计优化机器人。请你利用你的教育领域的专业知识，我的教案主题是 ".concat(this.teachInfo," 。"),i="",i=""==e?"".concat(this.inputMessage,"."):"我的教案主题是  ".concat(this.teachInfo," 。我选中的一段话是").concat(e,".修改要求是").concat(this.inputMessage,".请你根据我提出的需求和教案主题修改我选中的一段话，输出修改的内容即可，无需其他话语。让我们一步一步思考，确保得出正确的结论"),o="cfcea42fdab447bd8907728beaa56417","",r="",l="https://team3-at-2.openai.azure.com/openai/deployments/GPT35/chat/completions?api-version=2023-03-15-preview",t.next=14,fetch(l,{method:"POST",body:JSON.stringify({max_tokens:3e3,n:1,temperature:.5,frequency_penalty:0,presence_penalty:0,top_p:.95,stop:null,stream:!0,messages:[{role:"system",content:a},{role:"user",content:i}]}),headers:{"api-key":o,"Content-Type":"application/json"}});case 14:c=t.sent,u=new TextDecoder("utf-8"),d=c.body.getReader();case 17:return t.next=20,d.read();case 20:if(h=t.sent,m=h.done,p=h.value,!m){t.next=26;break}return this.smallTime=new Date,t.abrupt("break",48);case 26:f=u.decode(p),g=f.split("data:"),b=g.slice(1),v=0,y=b.length;case 30:if(!(v<y)){t.next=43;break}if(b[v]=b[v].replace("\n\n",""),b[v].includes("[DONE]")){t.next=40;break}if(!JSON.parse(b[v])["choices"][0]["delta"]["content"]){t.next=40;break}if("<ERR>"!==f){t.next=39;break}return"Error",t.abrupt("break",43);case 39:r+=JSON.parse(b[v])["choices"][0]["delta"]["content"];case 40:v++,t.next=30;break;case 43:this.outputList.push(r),this.outcome+=r.replace(/\n/g,""),r="",t.next=17;break;case 48:this.$set(this.messages[this.messages.length-1].content,1,this.outcome),x=this.$refs["scrollMenuRes"].$refs["wrap"],this.$nextTick((function(){x.style.scrollBehavior="smooth",x.scrollTop=x.scrollHeight}));case 51:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()),"remoteMethod",(function(t){var e=this;""!==t?(this.loading=!0,setTimeout((function(){e.loading=!1,e.options4=e.list.filter((function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1}))}),200)):this.options4=[]})),"handleOpen",(function(t,e){console.log(t,e)})),"handleClose",(function(t,e){console.log(t,e)})),"selectNav",(function(t,e){console.log(t,e)})),"convertToword",(function(){var t="".concat(this.LesInfo.lname,".docx");console.log("这里是触发了convertToword函数，word名称为："+this.LesInfo.lname);var e='\n\t\t\t\t    <!DOCTYPE html>\n\t\t\t\t    <html>\n\t\t\t\t      <head>\n\t\t\t\t        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n\t\t\t\t      </head>\n\t\t\t\t      <body>\n\t\t\t\t        '.concat(this.html,"\n\t\t\t\t      </body>\n\t\t\t\t    </html>\n\t\t\t\t  "),n=htmlDocx.asBlob(e);FileSaver.saveAs(n,t)})),"changeStyleCom",(function(){this.editorChange.height="100%",this.editorChange.overflowY="vislble"})),Object(ut["a"])(Te,"convertToPdf",(function(){this.changeStyleCom(),htmlToPdf.getPdf("".concat(this.LesInfo.lname)),this.editorChange.height="85vh",this.editorChange.overflowY="auto"}))),beforeDestroy:function(){var t=this.editor;null!=t&&t.destroy()}},Ve=Ae,Le=(n("fba6"),Object(B["a"])(Ve,Pe,Me,!1,null,"b3011a08",null)),$e=Le.exports;s["default"].use(K["a"]);var De=[{path:"/",name:"SignIn",component:V},{path:"/studySum",name:"studySum",component:se},{path:"/studyNo_1",name:"studyNo_1",component:me},{path:"/studyNo_2",name:"studyNo_2",component:Se},{path:"/studyNo_3",name:"studyNo_3",component:Ee},{path:"/studyNo_4",name:"studyNo_4",component:$e},{path:"/SignIn",component:V},{path:"/SmartEdu",name:"SmartEdu",component:et},{path:"/Workspace",component:F},{path:"/LessonEditByAI",name:"LessonEditByAI",component:Ot},{path:"/lessontemplate",name:"lessontemplate",component:Bt},{path:"/Inputinfo",name:"Inputinfo",component:Ht},{path:"/lessonGen",name:"lessonGen",component:Xt}],Re=new K["a"]({mode:"history",routes:De});Re.beforeEach((function(t,e,n){var s="true"==sessionStorage.getItem("is_login");s?"/SignIn"!==t.path?n():n("/"):"/SignIn"!==t.path?n("/SignIn"):n()}));var ze=Re,Fe=(n("b455"),n("77ed"),n("bfc7"));n("be0f");s["default"].config.productionTip=!1,s["default"].use(J.a),s["default"].use(J.a),s["default"].use(Fe["a"],{globalOptions:{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!0},{left:"\\[",right:"\\]",display:!0}]}}),new s["default"]({router:ze,render:function(t){return t(G)}}).$mount("#app")},"57ae":function(t,e,n){},"6cce":function(t,e,n){"use strict";n("b065")},"7b4b":function(t,e,n){"use strict";n("57ae")},"7eb5":function(t,e,n){},"825d":function(t,e,n){t.exports=n.p+"static/img/JNU.1428adf1.jpg"},9523:function(t,e,n){"use strict";n("dafd")},ac88:function(t,e,n){"use strict";n("1693")},af2c:function(t,e,n){},b065:function(t,e,n){},b12f:function(t,e,n){"use strict";n("1a60")},b3c7:function(t,e,n){t.exports=n.p+"static/img/AI助手@2x.7d74ada0.svg"},b455:function(t,e,n){},b662:function(t,e,n){"use strict";n("f5a3")},bac9:function(t,e,n){},c1e9:function(t,e,n){t.exports=n.p+"static/img/提示词.1cdb9134.svg"},c3d5:function(t,e,n){"use strict";n("bac9")},d395:function(t,e,n){"use strict";n("353e")},d7ad:function(t,e,n){t.exports=n.p+"static/img/chatgpt.07f1a310.svg"},dafd:function(t,e,n){},decd:function(t,e,n){},e845:function(t,e,n){"use strict";n("af2c")},eba6:function(t,e,n){},f5a3:function(t,e,n){},f8f2:function(t,e,n){"use strict";n("eba6")},fba6:function(t,e,n){"use strict";n("7eb5")}});
//# sourceMappingURL=app.229bfd3b.js.map